<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能交易*姚 文档站</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/mql5yao/favicon.ico">
    <meta name="description" content="这是智能交易的文档站点。">
    <meta name="keywords" content="MQL,EA,智能交易,自动交易,量化,编程,培训">
    
    <link rel="preload" href="/mql5yao/assets/css/0.styles.c167a2d0.css" as="style"><link rel="preload" href="/mql5yao/assets/js/app.33d9106b.js" as="script"><link rel="preload" href="/mql5yao/assets/js/3.64586e1a.js" as="script"><link rel="preload" href="/mql5yao/assets/js/17.069370d9.js" as="script"><link rel="prefetch" href="/mql5yao/assets/js/10.f243be4a.js"><link rel="prefetch" href="/mql5yao/assets/js/11.e4fc3b61.js"><link rel="prefetch" href="/mql5yao/assets/js/12.d2b71f90.js"><link rel="prefetch" href="/mql5yao/assets/js/13.d47c9e61.js"><link rel="prefetch" href="/mql5yao/assets/js/14.59ded2e6.js"><link rel="prefetch" href="/mql5yao/assets/js/15.f2836d3d.js"><link rel="prefetch" href="/mql5yao/assets/js/16.fc4e3f11.js"><link rel="prefetch" href="/mql5yao/assets/js/18.e47908ca.js"><link rel="prefetch" href="/mql5yao/assets/js/19.4e8a369f.js"><link rel="prefetch" href="/mql5yao/assets/js/2.7a050c47.js"><link rel="prefetch" href="/mql5yao/assets/js/20.37e31658.js"><link rel="prefetch" href="/mql5yao/assets/js/21.30dc9524.js"><link rel="prefetch" href="/mql5yao/assets/js/22.bb650486.js"><link rel="prefetch" href="/mql5yao/assets/js/23.84e246fd.js"><link rel="prefetch" href="/mql5yao/assets/js/24.3b441f03.js"><link rel="prefetch" href="/mql5yao/assets/js/25.3ceb7172.js"><link rel="prefetch" href="/mql5yao/assets/js/26.ba703a82.js"><link rel="prefetch" href="/mql5yao/assets/js/27.c0597566.js"><link rel="prefetch" href="/mql5yao/assets/js/28.50413136.js"><link rel="prefetch" href="/mql5yao/assets/js/29.04da6b07.js"><link rel="prefetch" href="/mql5yao/assets/js/30.c8071067.js"><link rel="prefetch" href="/mql5yao/assets/js/31.baace808.js"><link rel="prefetch" href="/mql5yao/assets/js/32.d399c058.js"><link rel="prefetch" href="/mql5yao/assets/js/33.9b2114b8.js"><link rel="prefetch" href="/mql5yao/assets/js/34.d6f49f42.js"><link rel="prefetch" href="/mql5yao/assets/js/35.3620d83f.js"><link rel="prefetch" href="/mql5yao/assets/js/36.e26f547b.js"><link rel="prefetch" href="/mql5yao/assets/js/37.c903bf3b.js"><link rel="prefetch" href="/mql5yao/assets/js/38.2f6e699d.js"><link rel="prefetch" href="/mql5yao/assets/js/39.aca9c106.js"><link rel="prefetch" href="/mql5yao/assets/js/4.21ff370e.js"><link rel="prefetch" href="/mql5yao/assets/js/40.3eb74932.js"><link rel="prefetch" href="/mql5yao/assets/js/41.4f244c9a.js"><link rel="prefetch" href="/mql5yao/assets/js/42.892231ce.js"><link rel="prefetch" href="/mql5yao/assets/js/43.3f173f86.js"><link rel="prefetch" href="/mql5yao/assets/js/44.4e79ffd4.js"><link rel="prefetch" href="/mql5yao/assets/js/45.9e7cd13e.js"><link rel="prefetch" href="/mql5yao/assets/js/46.240ea5cd.js"><link rel="prefetch" href="/mql5yao/assets/js/47.bc498cbd.js"><link rel="prefetch" href="/mql5yao/assets/js/48.752c3ae0.js"><link rel="prefetch" href="/mql5yao/assets/js/5.47d44717.js"><link rel="prefetch" href="/mql5yao/assets/js/6.ee422b91.js"><link rel="prefetch" href="/mql5yao/assets/js/7.b1ec5472.js"><link rel="prefetch" href="/mql5yao/assets/js/8.036d68c0.js"><link rel="prefetch" href="/mql5yao/assets/js/9.4c2d0d8b.js">
    <link rel="stylesheet" href="/mql5yao/assets/css/0.styles.c167a2d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mql5yao/" class="home-link router-link-active"><img src="/mql5yao/logo.png" alt="智能交易*姚 文档站" class="logo"> <span class="site-name can-hide">智能交易*姚 文档站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MQL5线上手册</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mql5yao/Chapter/start.html" class="sidebar-link">MQL5 参考</a></li><li><a href="/mql5yao/Chapter/one.html" class="sidebar-link">01 第一章 语言基础</a></li><li><a href="/mql5yao/Chapter/two.html" class="sidebar-link">02 第二章 标准常量，列举和架构</a></li><li><a href="/mql5yao/Chapter/three.html" class="sidebar-link">03 第三章 MQL5程序</a></li><li><a href="/mql5yao/Chapter/four.html" class="sidebar-link">04 第四章 预定义变量</a></li><li><a href="/mql5yao/Chapter/five.html" class="sidebar-link">05 第五章 普通函数</a></li><li><a href="/mql5yao/Chapter/six.html" class="sidebar-link">06 第六章 数组函数</a></li><li><a href="/mql5yao/Chapter/add1.html" class="sidebar-link">07 第add1章 矩阵和向量方法</a></li><li><a href="/mql5yao/Chapter/seven.html" class="sidebar-link">07 第七章 函数转换</a></li><li><a href="/mql5yao/Chapter/eight.html" class="sidebar-link">08 第八章 数学函数</a></li><li><a href="/mql5yao/Chapter/nine.html" class="sidebar-link">09 第九章 字符串函数</a></li><li><a href="/mql5yao/Chapter/ten.html" class="sidebar-link">10 第十章 日期和时间</a></li><li><a href="/mql5yao/Chapter/eleven.html" class="sidebar-link">11 第十一章 账户信息</a></li><li><a href="/mql5yao/Chapter/twelve.html" class="sidebar-link">12 第十二章 检测</a></li><li><a href="/mql5yao/Chapter/thirteen.html" class="sidebar-link">13 第十三章 事件处理</a></li><li><a href="/mql5yao/Chapter/fourteen.html" class="sidebar-link">14 第十四章 市场信息</a></li><li><a href="/mql5yao/Chapter/fifteen.html" class="sidebar-link">15 第十五章 经济日历函数</a></li><li><a href="/mql5yao/Chapter/sixteen.html" class="sidebar-link">16 第十六章 时间序列和指标访问</a></li><li><a href="/mql5yao/Chapter/seventeen.html" class="sidebar-link">17 第十七章 自定义交易品种</a></li><li><a href="/mql5yao/Chapter/eighteen.html" class="sidebar-link">18 第十八章 图表操作</a></li><li><a href="/mql5yao/Chapter/ninteen.html" class="sidebar-link">19 第十九章 交易函数</a></li><li><a href="/mql5yao/Chapter/twenty.html" class="sidebar-link">20 第二十章 交易信号</a></li><li><a href="/mql5yao/Chapter/twentyone.html" class="sidebar-link">21 第二十一章 网络函数</a></li><li><a href="/mql5yao/Chapter/twentytwo.html" class="sidebar-link">22 第二十二章 程序端全局变量</a></li><li><a href="/mql5yao/Chapter/twentythree.html" class="sidebar-link">23 第二十三章 文件函数</a></li><li><a href="/mql5yao/Chapter/twentyfour.html" class="sidebar-link">24 第二十四章 自定义指标</a></li><li><a href="/mql5yao/Chapter/twentyfive.html" aria-current="page" class="active sidebar-link">25 第二十五章 物件函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-1-objectcreate" class="sidebar-link">25.1 ObjectCreate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-2-objectname" class="sidebar-link">25.2 ObjectName</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-3-objectdelete" class="sidebar-link">25.3 ObjectDelete</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-4-objectsdeleteall" class="sidebar-link">25.4 ObjectsDeleteAll</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-5-objectfind" class="sidebar-link">25.5 ObjectFind</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-6-objectgettimebyvalue" class="sidebar-link">25.6 ObjectGetTimeByValue</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-7-objectgetvaluebytime" class="sidebar-link">25.7 ObjectGetValueByTime</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-8-objectmove" class="sidebar-link">25.8 ObjectMove</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-9-objectstotal" class="sidebar-link">25.9 ObjectsTotal</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-10-objectsetdouble" class="sidebar-link">25.10 ObjectSetDouble</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-11-objectsetinteger" class="sidebar-link">25.11 ObjectSetInteger</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-12-objectsetstring" class="sidebar-link">25.12 ObjectSetString</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-13-objectgetdouble" class="sidebar-link">25.13 ObjectGetDouble</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-14-objectgetinteger" class="sidebar-link">25.14 ObjectGetInteger</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-15-objectgetstring" class="sidebar-link">25.15 ObjectGetString</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-16-textsetfont" class="sidebar-link">25.16 TextSetFont</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-17-textout" class="sidebar-link">25.17 TextOut</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentyfive.html#_25-18-textgetsize" class="sidebar-link">25.18 TextGetSize</a></li></ul></li><li><a href="/mql5yao/Chapter/twentysix.html" class="sidebar-link">26 第二十六章 技术指标</a></li><li><a href="/mql5yao/Chapter/twentyseven.html" class="sidebar-link">27 第二十七章 处理优化结果</a></li><li><a href="/mql5yao/Chapter/twentyeight.html" class="sidebar-link">28 第二十八章 工作事件</a></li><li><a href="/mql5yao/Chapter/twentynine.html" class="sidebar-link">29 第二十九章 使用OpenCL工作</a></li><li><a href="/mql5yao/Chapter/thirty.html" class="sidebar-link">30 第三十章 使用数据库</a></li><li><a href="/mql5yao/Chapter/thirtyone.html" class="sidebar-link">31 第三十一章 使用DirectX</a></li><li><a href="/mql5yao/Chapter/thirtytwo.html" class="sidebar-link">32 第三十二章 集成</a></li><li><a href="/mql5yao/Chapter/add2.html" class="sidebar-link">32 第add2章 ONNX模型</a></li><li><a href="/mql5yao/Chapter/thirtythree.html" class="sidebar-link">33 第三十三章 标准程序库</a></li><li><a href="/mql5yao/Chapter/AppendixI.html" class="sidebar-link">34 附录一 来自MQL4</a></li><li><a href="/mql5yao/Chapter/AppendixII.html" class="sidebar-link">35 附录二 MQL5 函数列表</a></li><li><a href="/mql5yao/Chapter/AppendixIII.html" class="sidebar-link">36 附录三 MQL5常量列表</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2> 第二十五章 物件函数</h2> <p>这是一组用于处理与图表相关的任何指定图形对象的函数。</p> <p>定义图形对象属性的函数，以及用于根据图表创建图形对象的函数ObjectCreate() 和 移动物件的ObjectMove()函数，实际上是用来向图表发送命令的。如果这些函数成功执行，那么这个命令就包含在图表事件的公共队列中。当处理图表事件的队列时，将会实施(看到)图解物件属性的可视变化。</p> <p>因此，调用这些函数以后，不要期望图解物件会立即有可视化的改变。通常情况下，图表上的图解物件会在变更事件之后自动更新 —— 接收到一个新报价，调整了图表窗口大小等。使用ChartRedraw()函数，可以强制立即更新图解物件。</p> <table><thead><tr><th>函数</th> <th>功能</th></tr></thead> <tbody><tr><td>ObjectCreate</td> <td>在指定的图表窗口中创建指定类型图形物件</td></tr> <tr><td>ObjectName</td> <td>返回指定图表窗口中相关类型物件名称(或 指定图表子窗口)</td></tr> <tr><td>ObjectDelete</td> <td>从指定图表移除指定名称的物件(或 从指定图表子窗口)</td></tr> <tr><td>ObjectsDeleteAll</td> <td>从指定图表移除指定类型的所有物件(从指定图表子窗口)</td></tr> <tr><td>ObjectFind</td> <td>依据名称搜索指定ID的物件</td></tr> <tr><td>ObjectGetTimeByValue</td> <td>对指定物件的 价格值 返回 时间值</td></tr> <tr><td>ObjectGetValueByTime</td> <td>对指定时间返回物件的价格值</td></tr> <tr><td>ObjectMove</td> <td>改变指定物件的定位点坐标(即移动图形对象)</td></tr> <tr><td>ObjectsTotal</td> <td>返回指定图表中指定类型物件数(或 指定图表子窗口)</td></tr> <tr><td>ObjectGetDouble</td> <td>返回相应物件属性的双精度值</td></tr> <tr><td>ObjectGetInteger</td> <td>返回相应物件属性的整数型值</td></tr> <tr><td>ObjectGetString</td> <td>返回相应物件属性的字符串值</td></tr> <tr><td>ObjectSetDouble</td> <td>设置相应物件属性值</td></tr> <tr><td>ObjectSetInteger</td> <td>设置相应物件属性值</td></tr> <tr><td>ObjectSetString</td> <td>设置相应物件属性值</td></tr> <tr><td>TextSetFont</td> <td>设置使用绘制方法展示的文本字体(默认使用Arial 20)</td></tr> <tr><td>TextOut</td> <td>文本转到专为创建图形资源而设计的自定义数组(缓冲区)</td></tr> <tr><td>TextGetSize</td> <td>返回当前字体设置的字符串宽度和高度</td></tr></tbody></table> <p>每个图形对象在一个图表中应该具有一个唯一的名称，包括子窗口。更改图形对象的名称会生成两个事件：删除具有旧名称的对象；使用新名称创建对象。</p> <p>创建对象或修改对象属性后，建议调用ChartRedraw()函数，该函数命令客户端立即强制重新绘制一次图表(以及其中的所有可见对象)。</p> <h2 id="_25-1-objectcreate"><a href="#_25-1-objectcreate" class="header-anchor">#</a> 25.1 ObjectCreate</h2> <p>此函数用于在指定图表窗口(或副图子窗口)中，按指定的名称，类型和初始坐标创建图形物件，在创建期间最多可以指定30个坐标。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectCreate</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>         chart_id<span class="token punctuation">,</span>      <span class="token comment">// 图表标识符 </span>
   string       name<span class="token punctuation">,</span>          <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT  type<span class="token punctuation">,</span>          <span class="token comment">// 物件类型 </span>
   <span class="token keyword">int</span>          sub_window<span class="token punctuation">,</span>    <span class="token comment">// 窗口索引 </span>
   datetime     time1<span class="token punctuation">,</span>         <span class="token comment">// 第一定位点的时间 </span>
   <span class="token keyword">double</span>       price1<span class="token punctuation">,</span>        <span class="token comment">// 第一定位点的价格 </span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
   datetime     timeN<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>       <span class="token comment">// 第N个定位点的时间 </span>
   <span class="token keyword">double</span>       priceN<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>      <span class="token comment">//  </span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
   datetime     time30<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>      <span class="token comment">// 第30个定位点的时间 </span>
   <span class="token keyword">double</span>       price30<span class="token operator">=</span><span class="token number">0</span>      <span class="token comment">// 第30个定位点的价格 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0代表当前图表。</p> <p>name</p> <p>[in] 物件名称。该名称在图表中是唯一的，包括子窗口。</p> <p>类型</p> <p>[in] 物件类型。取值范围是 ENUM_OBJECT 枚举值之一。</p> <p>sub_window</p> <p>[in] 图表子窗口数量。0代表主图表窗口。如果是指定子窗口，则子窗口必须存在，否则函数返回错误值。</p> <p>time1</p> <p>[in] 第一个定位点的时间坐标。</p> <p>price1</p> <p>[in] 第一个定位点的价格坐标。</p> <p>timeN=0</p> <p>[in] 第N点时间坐标。</p> <p>priceN=0</p> <p>[in] 第N点的价格坐标。</p> <p>time30=0</p> <p>[in] 第三十个定位点的时间坐标。</p> <p>price30=0</p> <p>[in] 第三十个定位点的价格坐标。</p> <p>返回值</p> <p>如果命令成功添加图形对象到指定图表队列那么函数返回true，否则返回false。如果对象已经创建，则会尝试改变它的坐标。</p> <p>注意</p> <p>非同步调用通常用于ObjectCreate()，这也是函数仅返回命令添加到图表队列的结果。在这种情况下，true仅表示命令已成功加入队列，但执行结果尚不可知。</p> <p>若要检查命令执行结果，您可以使用ObjectFind()函数或任何其它请求对象属性的函数，例如ObjectGetXXX。但是，您需要牢记的是这类函数将被加入到图表的队尾，需要等待执行结果(因为同步调用)，因此，可能会耗费大量时间。当处理图表上的大量对象时应该考虑这个特性。</p> <p>对象名称不应超过63个字符。</p> <p>图表子窗口的数量(如果图表中有附带指标的子窗口)以1开始，图表主窗口总是以0开始检索。</p> <p>实施大量锚点(最多30个)以供将来使用。同时，图形对象的30个可能锚点的限制与调用函数时可以使用的物件名称参数的数量限制有关(不超过64)。(意即：此函数最多可以一次创建64个图形对象，并且最多使用30个定位锚点。—— 智能交易*姚 提示)</p> <p>重命名图形对象时，会同时形成两个事件。这些事件可以通过OnChartEvent()函数在EA交易程序 或 指标中处理：<br>
• 删除具有旧名称的对象的事件；<br>
• 使用新名称创建对象的事件。<br></p> <p>下表是创建每个图形物件类型时必须指定的锚点(定位点)数量：</p> <table><thead><tr><th>ID</th> <th>描述</th> <th>定位点</th></tr></thead> <tbody><tr><td>OBJ_VLINE</td> <td>垂直线</td> <td>一个定位点。只使用时间坐标。</td></tr> <tr><td>OBJ_HLINE</td> <td>水平线</td> <td>一个定位点。只使用价格坐标。</td></tr> <tr><td>OBJ_TREND</td> <td>趋势线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_TRENDBYANGLE</td> <td>角度趋势线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_CYCLES</td> <td>循环线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_ARROWED_LINE</td> <td>箭头线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_CHANNEL</td> <td>等距通道</td> <td>三个定位点。</td></tr> <tr><td>OBJ_STDDEVCHANNEL</td> <td>标准偏差通道</td> <td>两个定位点。</td></tr> <tr><td>OBJ_REGRESSION</td> <td>线性回归通道</td> <td>两个定位点。</td></tr> <tr><td>OBJ_PITCHFORK</td> <td>安德鲁鱼叉理论</td> <td>三个定位点。</td></tr> <tr><td>OBJ_GANNLINE</td> <td>江恩线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_GANNFAN</td> <td>江恩扇形线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_GANNGRID</td> <td>江恩网格</td> <td>两个定位点。</td></tr> <tr><td>OBJ_FIBO</td> <td>斐波纳契回调线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_FIBOTIMES</td> <td>斐波纳契时间周期线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_FIBOFAN</td> <td>斐波纳契扇形线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_FIBOARC</td> <td>斐波纳契角度线</td> <td>两个定位点。</td></tr> <tr><td>OBJ_FIBOCHANNEL</td> <td>斐波纳契通道</td> <td>三个定位点。</td></tr> <tr><td>OBJ_EXPANSION</td> <td>斐波纳契扩展线</td> <td>三个定位点。</td></tr> <tr><td>OBJ_ELLIOTWAVE5</td> <td>埃利奥特波动</td> <td>五个定位点。</td></tr> <tr><td>OBJ_ELLIOTWAVE3</td> <td>埃利奥特修正波</td> <td>三个定位点。</td></tr> <tr><td>OBJ_RECTANGLE</td> <td>矩形</td> <td>两个定位点。</td></tr> <tr><td>OBJ_TRIANGLE</td> <td>三角形</td> <td>三个定位点。</td></tr> <tr><td>OBJ_ELLIPSE</td> <td>椭圆形</td> <td>三个定位点。</td></tr> <tr><td>OBJ_ARROW_THUMB_UP</td> <td>拇指向上</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_THUMB_DOWN</td> <td>拇指向下</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_UP</td> <td>箭头向上</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_DOWN</td> <td>箭头向下</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_STOP</td> <td>停止符号</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_CHECK</td> <td>检查符号</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_LEFT_PRICE</td> <td>向左价格标签</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_RIGHT_PRICE</td> <td>向右价格标签</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_BUY</td> <td>买入符号</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW_SELL</td> <td>卖出符号</td> <td>一个定位点。</td></tr> <tr><td>OBJ_ARROW</td> <td>箭头</td> <td>一个定位点。</td></tr> <tr><td>OBJ_TEXT</td> <td>文本</td> <td>一个定位点。</td></tr> <tr><td>OBJ_LABEL</td> <td>标签</td> <td>使用 OBJPROP_XDISTANCE 和 OBJPROP_YDISTANCE 属性设置位置。</td></tr> <tr><td>OBJ_BUTTON</td> <td>按钮</td> <td>使用 OBJPROP_XDISTANCE and OBJPROP_YDISTANCE属性设置位置。</td></tr> <tr><td>OBJ_CHART</td> <td>图表</td> <td>使用 OBJPROP_XDISTANCE and OBJPROP_YDISTANCE属性设置位置。</td></tr> <tr><td>OBJ_BITMAP</td> <td>位图</td> <td>一个定位点。</td></tr> <tr><td>OBJ_BITMAP_LABEL</td> <td>位图标签</td> <td>使用 OBJPROP_XDISTANCE and OBJPROP_YDISTANCE 属性设置位置。</td></tr> <tr><td>OBJ_EDIT</td> <td>编辑</td> <td>使用OBJPROP_XDISTANCE and OBJPROP_YDISTANCE 属性设置位置。</td></tr> <tr><td>OBJ_EVENT</td> <td>经济日历中对应事件的&quot;事件&quot;物件</td> <td>一个定位点。实际上只使用时间坐标。</td></tr> <tr><td>OBJ_RECTANGLE_LABEL</td> <td>用于创建和设计自定义图形界面的“矩形标签”对象。</td> <td>使用OBJPROP_XDISTANCE and OBJPROP_YDISTANCE 属性设置位置。</td></tr></tbody></table> <h2 id="_25-2-objectname"><a href="#_25-2-objectname" class="header-anchor">#</a> 25.2 ObjectName</h2> <p>该函数返回指定图表窗口中(或 副图子窗口中)指定类型的相应对象的名称。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string  <span class="token function">ObjectName</span><span class="token punctuation">(</span>
   <span class="token keyword">long</span>  chart_id<span class="token punctuation">,</span>           <span class="token comment">// 图表标识符</span>
   <span class="token keyword">int</span>   pos<span class="token punctuation">,</span>                <span class="token comment">// 物件列表中的数量</span>
   <span class="token keyword">int</span>   sub_window<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>      <span class="token comment">// 窗口索引</span>
   <span class="token keyword">int</span>   type<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>             <span class="token comment">// 物件类型</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>pos</p> <p>[in] 根据指定条件的对象的数量，索引编号由子窗口的数量和类型决定。</p> <p>sub_window=-1</p> <p>[in] 副图子窗口的数量。0代表主图表窗口，-1代表所有图表子窗口，包括主窗口。</p> <p>type = -1</p> <p>[in] 物件类型。取值范围是 ENUM_OBJECT 枚举值之一，-1表示全部类型。</p> <p>返回值</p> <p>如果成功返回物件名称。</p> <p>注释</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <p>重命名图形对象时，会同时形成两个事件。这些事件可以通过OnChartEvent()函数在EA交易程序 或 指标中处理：<br>
• 删除具有旧名称的对象的事件；<br>
• 使用新名称创建对象的事件。<br></p> <h2 id="_25-3-objectdelete"><a href="#_25-3-objectdelete" class="header-anchor">#</a> 25.3 ObjectDelete</h2> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectDelete</span><span class="token punctuation">(</span>
   <span class="token keyword">long</span>    chart_id<span class="token punctuation">,</span>     <span class="token comment">// 图表标识符</span>
   string  name          <span class="token comment">// 物件名称</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数
chart_id
[in]  图表标识符。0表示当前图表。
name</p> <p>[in]  删除物件的名称。</p> <p>返回值
如果命令成功添加到指定图表的命令队列中，那么函数返回true，否则返回false。</p> <p>注意
非同步调用通常用于ObjectDelete()，这也是函数仅返回命令是否已被添加到图表命令队列的结果。在这种情况下，true仅表示命令已成功加入命令队列，但执行结果尚不可知。</p> <p>若要检查命令执行结果，您可以使用ObjectFind()函数或任何其它请求对象属性的函数，例如ObjectGetXXX。但是，您需要牢记的是这类函数将被加入到图表的队尾，需要等待执行结果(因为同步调用)，因此，可能会耗费大量时间。当处理图表上的大量对象时应该考虑这个特性。</p> <p>重命名图形对象时，会同时形成两个事件。这些事件可以通过OnChartEvent()函数在EA交易程序 或 指标中处理：<br>
• 删除具有旧名称的对象的事件；<br>
• 使用新名称创建对象的事件。<br></p> <h2 id="_25-4-objectsdeleteall"><a href="#_25-4-objectsdeleteall" class="header-anchor">#</a> 25.4 ObjectsDeleteAll</h2> <p>该函数从指定图表中删除所有物件，指定图表子窗口，指定类型。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">ObjectsDeleteAll</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>  chart_id<span class="token punctuation">,</span>           <span class="token comment">// 图表标识符 </span>
   <span class="token keyword">int</span>   sub_window<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>      <span class="token comment">// 窗口索引 </span>
   <span class="token keyword">int</span>   type<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>             <span class="token comment">// 物件类型 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>根据对象名称的前缀移除所有指定类型的对象。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">ObjectsDeleteAll</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>           chart_id<span class="token punctuation">,</span>   <span class="token comment">// 图表标识符 </span>
   <span class="token keyword">const</span> string     prefix<span class="token punctuation">,</span>   <span class="token comment">// 对象名称前缀 </span>
   <span class="token keyword">int</span>       sub_window<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment">// 窗口索引 </span>
   <span class="token keyword">int</span>      object_type<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>    <span class="token comment">// 对象类型 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0代表当前图表。</p> <p>prefix</p> <p>[in] 对象名称前缀：所有名称以这组字符开头的对象都将从图表移除。您可以指定前缀为 'name' 或 'name*' —— 两种形式的执行结果相同。如果设定前缀空为字符串，那么所有可能名称的对象都将被移除。</p> <p>sub_window=-1</p> <p>[in] 图表子窗口号码。0代表主要图表窗口，-1代表图表子窗口，包括主窗口。</p> <p>type=-1</p> <p>[in] 物件类型。取值范围是 ENUM_OBJECT枚举值之一，-1表示全部类型。</p> <p>返回值</p> <p>返回删除物件的数量。想要获取更多关于错误的详细信息，请调用 GetLastError()。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <h2 id="_25-5-objectfind"><a href="#_25-5-objectfind" class="header-anchor">#</a> 25.5 ObjectFind</h2> <p>该函数在指定ID的图表中搜索指定名称的物件。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">ObjectFind</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>    chart_id<span class="token punctuation">,</span>     <span class="token comment">// 图表标识符 </span>
   string  name          <span class="token comment">// 物件名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符，0表示当前图表。</p> <p>name</p> <p>[in] 搜索物件名称。</p> <p>返回值</p> <p>如果成功函数返回子窗口的号码(0表示图表的主窗口)，表示找到了图形物件。如果没有找到图形物件，函数返回 负值。想要获取更多关于错误的详细信息，请调用 GetLastError()。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <p>重命名图形对象时，会同时形成两个事件。这些事件可以通过OnChartEvent()函数在EA交易程序 或 指标中处理：
• 删除具有旧名称的对象的事件;
• 使用新名称创建对象的事件。</p> <h2 id="_25-6-objectgettimebyvalue"><a href="#_25-6-objectgettimebyvalue" class="header-anchor">#</a> 25.6 ObjectGetTimeByValue</h2> <p>该函数根据指定图形物件的价格值，返回对应的时间值。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>datetime  <span class="token function">ObjectGetTimeByValue</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>    chart_id<span class="token punctuation">,</span>     <span class="token comment">// 图表标识符 </span>
   string  name<span class="token punctuation">,</span>         <span class="token comment">// 物件名称 </span>
   <span class="token keyword">double</span>  value<span class="token punctuation">,</span>        <span class="token comment">// 价格 </span>
   <span class="token keyword">int</span>     line_id       <span class="token comment">// 线 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>name</p> <p>[in] 图形物件名称。</p> <p>value</p> <p>[in] 价格值。</p> <p>line_id</p> <p>[in] 绘制线的索引号。</p> <p>返回值</p> <p>为指定物件的指定价格值设定时间值。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <p>一个对象在一个价格坐标内可能有多个对应的值，因此有必要指明对应的线的索引号。这个函数仅应用于以下对象：
• 趋势线(OBJ_TREND)
• 角度趋势线(OBJ_TRENDBYANGLE)
• 江恩线(OBJ_GANNLINE)
• 等距通道(OBJ_CHANNEL) —— 2条线
• 线性回归通道 (OBJ_REGRESSION) —— 3条线
• 标准偏差通道(OBJ_STDDEVCHANNEL) —— 3 条线
• 箭头线 (OBJ_ARROWED_LINE)</p> <p>相关参考
对象类型</p> <h2 id="_25-7-objectgetvaluebytime"><a href="#_25-7-objectgetvaluebytime" class="header-anchor">#</a> 25.7 ObjectGetValueByTime</h2> <p>该函数根据指定图形物件的时间值，返回对应的价格值。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">double</span>  <span class="token function">ObjectGetValueByTime</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>      chart_id<span class="token punctuation">,</span>     <span class="token comment">// 图表标识符 </span>
   string    name<span class="token punctuation">,</span>         <span class="token comment">// 物件名称 </span>
   datetime  time<span class="token punctuation">,</span>         <span class="token comment">// 时间 </span>
   <span class="token keyword">int</span>       line_id       <span class="token comment">// 线 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>name</p> <p>[in] 图形物件名称。</p> <p>value</p> <p>[in] 时间值。</p> <p>line_id</p> <p>[in] 绘制线的索引号。</p> <p>返回值</p> <p>为指定物件的指定价格值设定价格值。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <p>一个对象在一个价格坐标内可能有多个对应的值，因此有必要指明对应的线的索引号。这个函数仅应用于以下对象：
• 趋势线(OBJ_TREND)
• 角度趋势线(OBJ_TRENDBYANGLE)
• 江恩线(OBJ_GANNLINE)
• 等距通道(OBJ_CHANNEL) —— 2条线
• 线性回归通道 (OBJ_REGRESSION) —— 3条线
• 标准偏差通道(OBJ_STDDEVCHANNEL) —— 3 条线
• 箭头线 (OBJ_ARROWED_LINE)</p> <p>相关参考</p> <p>对象类型</p> <h2 id="_25-8-objectmove"><a href="#_25-8-objectmove" class="header-anchor">#</a> 25.8 ObjectMove</h2> <p>该函数更改图形物件对象的定位锚点坐标。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectMove</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>      chart_id<span class="token punctuation">,</span>        <span class="token comment">// 图表标识符 </span>
   string    name<span class="token punctuation">,</span>            <span class="token comment">// 物件名称 </span>
   <span class="token keyword">int</span>       point_index<span class="token punctuation">,</span>     <span class="token comment">// 定位点的索引编号 </span>
   datetime  time<span class="token punctuation">,</span>            <span class="token comment">// 时间 </span>
   <span class="token keyword">double</span>    price            <span class="token comment">// 价格 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0代表当前图表。</p> <p>name</p> <p>[in] 物件对象名称。</p> <p>point_index</p> <p>[in] 定位点索引编号。定位点的数量取决于物件对象类型。</p> <p>time</p> <p>[in] 所选定位点的时间坐标。</p> <p>价格</p> <p>[in] 所选定位点的价格坐标。</p> <p>返回值</p> <p>如果命令成功添加到指定图表队列那么函数返回true，否则返回false。</p> <p>注意</p> <p>非同步调用通常用于ObjectMove()，这也是函数仅返回命令添加到图表队列的结果。在这种情况下，true仅表示命令已成功加入队列，但执行结果尚不可知。</p> <p>若要检查命令执行结果，您可以使用ObjectFind()函数或任何其它请求对象属性的函数，例如ObjectGetXXX。但是，您需要牢记的是这类函数将被加入到图表的队尾，需要等待执行结果(因为同步调用)，因此，可能会耗费大量时间。当处理图表上的大量对象时应该考虑这个特性。</p> <h2 id="_25-9-objectstotal"><a href="#_25-9-objectstotal" class="header-anchor">#</a> 25.9 ObjectsTotal</h2> <p>函数返回在指定子窗口中指定类型的图形物件对象的总数量。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">ObjectsTotal</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>  chart_id<span class="token punctuation">,</span>           <span class="token comment">// 图表标识符 </span>
   <span class="token keyword">int</span>   sub_window<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>      <span class="token comment">// 窗口索引 </span>
   <span class="token keyword">int</span>   type<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>             <span class="token comment">// 物件类型 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>sub_window=-1</p> <p>[in] 图表子窗口的数量。0代表主图表窗口，-1代表图表的所有子窗口，包括主窗口。</p> <p>type=-1</p> <p>[in] 物件类型。取值范围是 ENUM_OBJECT枚举值之一，-1表示全部类型。</p> <p>返回值</p> <p>图形物件对象的数量。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <h2 id="_25-10-objectsetdouble"><a href="#_25-10-objectsetdouble" class="header-anchor">#</a> 25.10 ObjectSetDouble</h2> <p>该函数设置相应对象的属性值。对象属性必须是双精度(double)类型。该函数有2种变体。</p> <p>设置属性值，无修饰符</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectSetDouble</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_DOUBLE     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性 </span>
   <span class="token keyword">double</span>                          prop_value         <span class="token comment">// 值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>设置属性值，带修饰符</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectSetDouble</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_DOUBLE     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性 </span>
   <span class="token keyword">int</span>                             prop_modifier<span class="token punctuation">,</span>     <span class="token comment">// 修饰符 </span>
   <span class="token keyword">double</span>                          prop_value         <span class="token comment">// 值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>name</p> <p>[in] 物件名称。</p> <p>prop_id</p> <p>[in] 物件属性ID。取值范围是 ENUM_OBJECT_PROPERTY_DOUBLE 枚举值之一。</p> <p>prop_modifier</p> <p>[in] 指定属性的修饰语，用于表示 斐波纳契 图解对象的水平线的数量 和 安德鲁分叉图解物件，水平线的编号从0开始。</p> <p>prop_value
[in] 属性值。</p> <p>返回值</p> <p>当更改图形对象属性的命令已成功发送到图表命令队列时，该函数才返回true。否则返回false。调用函数GetLastError() 读取更多关于错误信息。</p> <p>注意</p> <p>该函数使用非同步调用，这意味着该函数不会等待已添加到指定图表命令队列的执行结果。相反，它立即返回控制。</p> <p>要检查命令执行结果，可以使用请求指定对象属性的函数。但是，您应该记住，此类函数会添加到该图表队列的末尾，并且它们会等待执行结果，因此可能非常耗时。在图表上处理大量对象时，应考虑此功能。</p> <p>示例：新建斐波纳契图解物件 和 添加新的水平线</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//+------------------------------------------------------------------+ </span>
<span class="token comment">//| 脚本程序启动函数                                                     | </span>
<span class="token comment">//+------------------------------------------------------------------+ </span>
<span class="token keyword">void</span> <span class="token function">OnStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span> 
<span class="token comment">//--- 辅助数组 </span>
   <span class="token keyword">double</span> high<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>low<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>price1<span class="token punctuation">,</span>price2<span class="token punctuation">;</span> 
   datetime time<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>time1<span class="token punctuation">,</span>time2<span class="token punctuation">;</span> 
<span class="token comment">//--- 复制开盘价 - 最新的100柱就足够 </span>
   <span class="token keyword">int</span> copied<span class="token operator">=</span><span class="token function">CopyHigh</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span><span class="token punctuation">(</span>copied<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> 
     <span class="token punctuation">{</span> 
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to copy the values of the High price series&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token keyword">return</span><span class="token punctuation">;</span> 
     <span class="token punctuation">}</span> 
<span class="token comment">//--- 复制收盘价 - 最新100柱就足够 </span>
   copied<span class="token operator">=</span><span class="token function">CopyLow</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span><span class="token punctuation">(</span>copied<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> 
     <span class="token punctuation">{</span> 
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to copy the values of the Low price series&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token keyword">return</span><span class="token punctuation">;</span> 
     <span class="token punctuation">}</span> 
<span class="token comment">//--- 复制最新100柱的开盘时间 </span>
   copied<span class="token operator">=</span><span class="token function">CopyTime</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span><span class="token punctuation">(</span>copied<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> 
     <span class="token punctuation">{</span> 
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to copy the values of the price series of Time&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token keyword">return</span><span class="token punctuation">;</span> 
     <span class="token punctuation">}</span> 
<span class="token comment">//--- 如访问时间序列一样组织访问复制的数据-反向 </span>
   <span class="token function">ArraySetAsSeries</span><span class="token punctuation">(</span>high<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">ArraySetAsSeries</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">ArraySetAsSeries</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  
<span class="token comment">//--- 斐波纳契物件的第一定位点的坐标 </span>
   price1<span class="token operator">=</span>high<span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
   time1<span class="token operator">=</span>time<span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token comment">//--- 斐波纳契物件的第二定位点的坐标 </span>
   price2<span class="token operator">=</span>low<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
   time2<span class="token operator">=</span>time<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
  
<span class="token comment">//--- 创建斐波纳契物件的时间 </span>
   <span class="token keyword">bool</span> created<span class="token operator">=</span><span class="token function">ObjectCreate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJ_FIBO<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>time1<span class="token punctuation">,</span>price1<span class="token punctuation">,</span>time2<span class="token punctuation">,</span>price2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span><span class="token punctuation">(</span>created<span class="token punctuation">)</span> <span class="token comment">// 如果物件成功创建 </span>
     <span class="token punctuation">{</span> 
      <span class="token comment">//--- 设置斐波纳契色阶调整颜色 </span>
      <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELCOLOR<span class="token punctuation">,</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 另外，有多少斐波纳契色阶？ </span>
      <span class="token keyword">int</span> levels<span class="token operator">=</span><span class="token function">ObjectGetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELS<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Fibo levels before = &quot;</span><span class="token punctuation">,</span>levels<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//---输出到日志 =&gt; 水平号:水平值描述 </span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>levels<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span> 
         <span class="token function">Print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token string">&quot;: &quot;</span><span class="token punctuation">,</span><span class="token function">ObjectGetDouble</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELVALUE<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> 
               <span class="token string">&quot;  &quot;</span><span class="token punctuation">,</span><span class="token function">ObjectGetString</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELTEXT<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
      <span class="token comment">//--- 增加每单元的水平面数量 </span>
      <span class="token keyword">bool</span> modified<span class="token operator">=</span><span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELS<span class="token punctuation">,</span>levels<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>modified<span class="token punctuation">)</span> <span class="token comment">// 更改水平面数量失败 </span>
        <span class="token punctuation">{</span> 
         <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to change the number of levels of Fibo, error &quot;</span><span class="token punctuation">,</span><span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
      <span class="token comment">//--- 只是通知 </span>
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Fibo levels after = &quot;</span><span class="token punctuation">,</span><span class="token function">ObjectGetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 为新创建的水平面设置一个值 </span>
      <span class="token keyword">bool</span> added<span class="token operator">=</span><span class="token function">ObjectSetDouble</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELVALUE<span class="token punctuation">,</span>levels<span class="token punctuation">,</span><span class="token number">133</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token keyword">if</span><span class="token punctuation">(</span>added<span class="token punctuation">)</span> <span class="token comment">// 为水平面管理并设置一个值 </span>
        <span class="token punctuation">{</span> 
         <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Successfully set one more Fibo level&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token comment">//--- 还不要忘记设置水平面描述 </span>
         <span class="token function">ObjectSetString</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELTEXT<span class="token punctuation">,</span>levels<span class="token punctuation">,</span><span class="token string">&quot;my level&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token function">ChartRedraw</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token comment">//--- 在斐波纳契物件中获得水平面数量的实际值 </span>
         levels<span class="token operator">=</span><span class="token function">ObjectGetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELS<span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Fibo levels after adding = &quot;</span><span class="token punctuation">,</span>levels<span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token comment">//--- 再次输出所有水平-只是为了证实 </span>
         <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>levels<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> 
           <span class="token punctuation">{</span> 
            <span class="token function">Print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">,</span><span class="token function">ObjectGetDouble</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELVALUE<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> 
                  <span class="token string">&quot;  &quot;</span><span class="token punctuation">,</span><span class="token function">ObjectGetString</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;Fibo&quot;</span><span class="token punctuation">,</span>OBJPROP_LEVELTEXT<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
           <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
      <span class="token keyword">else</span> <span class="token comment">// 如果在斐波纳契物件中增加水平面数量则会失败 </span>
        <span class="token punctuation">{</span> 
         <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to set one more Fibo level. Error &quot;</span><span class="token punctuation">,</span><span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
     <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div><p>相关参考</p> <p>物件类型， 物件属性</p> <h2 id="_25-11-objectsetinteger"><a href="#_25-11-objectsetinteger" class="header-anchor">#</a> 25.11 ObjectSetInteger</h2> <p>该函数设置相应对象的属性值。对象属性必须是 日期时间，整型，颜色，布尔或者字符型。该函数有2种变体。</p> <p>设置属性值，无修饰符</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                             chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                           name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_INTEGER     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性 </span>
   <span class="token keyword">long</span>                             prop_value         <span class="token comment">// 值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>设置属性值，带修饰符</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                             chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                           name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_INTEGER     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性 </span>
   <span class="token keyword">int</span>                              prop_modifier<span class="token punctuation">,</span>     <span class="token comment">// 修饰符 </span>
   <span class="token keyword">long</span>                             prop_value         <span class="token comment">// 值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>name</p> <p>[in] 物件名称。</p> <p>prop_id</p> <p>[in] 物件属性ID。取值范围是 ENUM_OBJECT_PROPERTY_INTEGER 枚举值之一。</p> <p>prop_modifier</p> <p>[in] 指定属性的修饰语，用于表示 斐波纳契 图解对象的水平线的数量 和 安德鲁分叉图解物件，水平线的编号从0开始。</p> <p>prop_value [in] 属性值。</p> <p>返回值</p> <p>当更改图形对象属性的命令已成功发送到图表命令队列时，该函数才返回true。否则返回false。用函数GetLastError() 读取更多关于错误信息。</p> <p>注意</p> <p>该函数使用非同步调用，这意味着该函数不会等待已添加到指定图表命令队列的执行结果。相反，它立即返回控制。</p> <p>要检查命令执行结果，可以使用请求指定对象属性的函数。但是，您应该记住，此类函数会添加到该图表队列的末尾，并且它们会等待执行结果，因此可能非常耗时。在图表上处理大量对象时，应考虑此功能。</p> <p>示例：如何创建网页颜色表格</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token comment">//|                                               Table of Web Colors|</span>
<span class="token comment">//|                         Copyright 2011, MetaQuotes Software Corp |</span>
<span class="token comment">//|                                       https://www.metaquotes.net |</span>
<span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">X_SIZE</span> <span class="token expression"><span class="token number">140</span>      </span><span class="token comment">// 编辑物件的宽度</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">Y_SIZE</span> <span class="token expression"><span class="token number">33</span>       </span><span class="token comment">// 编辑物件的高度</span></span>
<span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token comment">//| 网络颜色数组                                                       |</span>
<span class="token comment">//+------------------------------------------------------------------+</span>
color ExtClr<span class="token punctuation">[</span><span class="token number">140</span><span class="token punctuation">]</span><span class="token operator">=</span>
  <span class="token punctuation">{</span>
   clrAliceBlue<span class="token punctuation">,</span>clrAntiqueWhite<span class="token punctuation">,</span>clrAqua<span class="token punctuation">,</span>clrAquamarine<span class="token punctuation">,</span>clrAzure<span class="token punctuation">,</span>clrBeige<span class="token punctuation">,</span>clrBisque<span class="token punctuation">,</span>clrBlack<span class="token punctuation">,</span>clrBlanchedAlmond<span class="token punctuation">,</span>
   clrBlue<span class="token punctuation">,</span>clrBlueViolet<span class="token punctuation">,</span>clrBrown<span class="token punctuation">,</span>clrBurlyWood<span class="token punctuation">,</span>clrCadetBlue<span class="token punctuation">,</span>clrChartreuse<span class="token punctuation">,</span>clrChocolate<span class="token punctuation">,</span>clrCoral<span class="token punctuation">,</span>clrCornflowerBlue<span class="token punctuation">,</span>
   clrCornsilk<span class="token punctuation">,</span>clrCrimson<span class="token punctuation">,</span>clrCyan<span class="token punctuation">,</span>clrDarkBlue<span class="token punctuation">,</span>clrDarkCyan<span class="token punctuation">,</span>clrDarkGoldenrod<span class="token punctuation">,</span>clrDarkGray<span class="token punctuation">,</span>clrDarkGreen<span class="token punctuation">,</span>clrDarkKhaki<span class="token punctuation">,</span>
   clrDarkMagenta<span class="token punctuation">,</span>clrDarkOliveGreen<span class="token punctuation">,</span>clrDarkOrange<span class="token punctuation">,</span>clrDarkOrchid<span class="token punctuation">,</span>clrDarkRed<span class="token punctuation">,</span>clrDarkSalmon<span class="token punctuation">,</span>clrDarkSeaGreen<span class="token punctuation">,</span>
   clrDarkSlateBlue<span class="token punctuation">,</span>clrDarkSlateGray<span class="token punctuation">,</span>clrDarkTurquoise<span class="token punctuation">,</span>clrDarkViolet<span class="token punctuation">,</span>clrDeepPink<span class="token punctuation">,</span>clrDeepSkyBlue<span class="token punctuation">,</span>clrDimGray<span class="token punctuation">,</span>
   clrDodgerBlue<span class="token punctuation">,</span>clrFireBrick<span class="token punctuation">,</span>clrFloralWhite<span class="token punctuation">,</span>clrForestGreen<span class="token punctuation">,</span>clrFuchsia<span class="token punctuation">,</span>clrGainsboro<span class="token punctuation">,</span>clrGhostWhite<span class="token punctuation">,</span>clrGold<span class="token punctuation">,</span>
   clrGoldenrod<span class="token punctuation">,</span>clrGray<span class="token punctuation">,</span>clrGreen<span class="token punctuation">,</span>clrGreenYellow<span class="token punctuation">,</span>clrHoneydew<span class="token punctuation">,</span>clrHotPink<span class="token punctuation">,</span>clrIndianRed<span class="token punctuation">,</span>clrIndigo<span class="token punctuation">,</span>clrIvory<span class="token punctuation">,</span>clrKhaki<span class="token punctuation">,</span>
   clrLavender<span class="token punctuation">,</span>clrLavenderBlush<span class="token punctuation">,</span>clrLawnGreen<span class="token punctuation">,</span>clrLemonChiffon<span class="token punctuation">,</span>clrLightBlue<span class="token punctuation">,</span>clrLightCoral<span class="token punctuation">,</span>clrLightCyan<span class="token punctuation">,</span>
   clrLightGoldenrod<span class="token punctuation">,</span>clrLightGreen<span class="token punctuation">,</span>clrLightGray<span class="token punctuation">,</span>clrLightPink<span class="token punctuation">,</span>clrLightSalmon<span class="token punctuation">,</span>clrLightSeaGreen<span class="token punctuation">,</span>clrLightSkyBlue<span class="token punctuation">,</span>
   clrLightSlateGray<span class="token punctuation">,</span>clrLightSteelBlue<span class="token punctuation">,</span>clrLightYellow<span class="token punctuation">,</span>clrLime<span class="token punctuation">,</span>clrLimeGreen<span class="token punctuation">,</span>clrLinen<span class="token punctuation">,</span>clrMagenta<span class="token punctuation">,</span>clrMaroon<span class="token punctuation">,</span>
   clrMediumAquamarine<span class="token punctuation">,</span>clrMediumBlue<span class="token punctuation">,</span>clrMediumOrchid<span class="token punctuation">,</span>clrMediumPurple<span class="token punctuation">,</span>clrMediumSeaGreen<span class="token punctuation">,</span>clrMediumSlateBlue<span class="token punctuation">,</span>
   clrMediumSpringGreen<span class="token punctuation">,</span>clrMediumTurquoise<span class="token punctuation">,</span>clrMediumVioletRed<span class="token punctuation">,</span>clrMidnightBlue<span class="token punctuation">,</span>clrMintCream<span class="token punctuation">,</span>clrMistyRose<span class="token punctuation">,</span>clrMoccasin<span class="token punctuation">,</span>
   clrNavajoWhite<span class="token punctuation">,</span>clrNavy<span class="token punctuation">,</span>clrOldLace<span class="token punctuation">,</span>clrOlive<span class="token punctuation">,</span>clrOliveDrab<span class="token punctuation">,</span>clrOrange<span class="token punctuation">,</span>clrOrangeRed<span class="token punctuation">,</span>clrOrchid<span class="token punctuation">,</span>clrPaleGoldenrod<span class="token punctuation">,</span>
   clrPaleGreen<span class="token punctuation">,</span>clrPaleTurquoise<span class="token punctuation">,</span>clrPaleVioletRed<span class="token punctuation">,</span>clrPapayaWhip<span class="token punctuation">,</span>clrPeachPuff<span class="token punctuation">,</span>clrPeru<span class="token punctuation">,</span>clrPink<span class="token punctuation">,</span>clrPlum<span class="token punctuation">,</span>clrPowderBlue<span class="token punctuation">,</span>
   clrPurple<span class="token punctuation">,</span>clrRed<span class="token punctuation">,</span>clrRosyBrown<span class="token punctuation">,</span>clrRoyalBlue<span class="token punctuation">,</span>clrSaddleBrown<span class="token punctuation">,</span>clrSalmon<span class="token punctuation">,</span>clrSandyBrown<span class="token punctuation">,</span>clrSeaGreen<span class="token punctuation">,</span>clrSeashell<span class="token punctuation">,</span>
   clrSienna<span class="token punctuation">,</span>clrSilver<span class="token punctuation">,</span>clrSkyBlue<span class="token punctuation">,</span>clrSlateBlue<span class="token punctuation">,</span>clrSlateGray<span class="token punctuation">,</span>clrSnow<span class="token punctuation">,</span>clrSpringGreen<span class="token punctuation">,</span>clrSteelBlue<span class="token punctuation">,</span>clrTan<span class="token punctuation">,</span>clrTeal<span class="token punctuation">,</span>
   clrThistle<span class="token punctuation">,</span>clrTomato<span class="token punctuation">,</span>clrTurquoise<span class="token punctuation">,</span>clrViolet<span class="token punctuation">,</span>clrWheat<span class="token punctuation">,</span>clrWhite<span class="token punctuation">,</span>clrWhiteSmoke<span class="token punctuation">,</span>clrYellow<span class="token punctuation">,</span>clrYellowGreen
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token comment">//| 创建和初始化编辑物件                                                |</span>
<span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token keyword">void</span> <span class="token function">CreateColorBox</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span>color c<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
<span class="token comment">//--- 生成新编辑物件的名称</span>
   string name<span class="token operator">=</span><span class="token string">&quot;ColorBox_&quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>x<span class="token operator">+</span><span class="token string">&quot;_&quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>y<span class="token punctuation">;</span>
<span class="token comment">//--- 创建新的编辑物件</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">ObjectCreate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJ_EDIT<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">{</span>
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot create: '&quot;</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token string">&quot;'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token comment">//--- 设置坐标，宽度和高度</span>
   <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_XDISTANCE<span class="token punctuation">,</span>x<span class="token operator">*</span>X_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_YDISTANCE<span class="token punctuation">,</span>y<span class="token operator">*</span>Y_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_XSIZE<span class="token punctuation">,</span>X_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_YSIZE<span class="token punctuation">,</span>Y_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//--- 设置文本颜色</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>clrBlack<span class="token operator">==</span>c<span class="token punctuation">)</span> <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_COLOR<span class="token punctuation">,</span>clrWhite<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">else</span>            <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_COLOR<span class="token punctuation">,</span>clrBlack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//--- 设置背景色</span>
   <span class="token function">ObjectSetInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_BGCOLOR<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//--- 设置文本</span>
   <span class="token function">ObjectSetString</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>OBJPROP_TEXT<span class="token punctuation">,</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token comment">//| 脚本程序开始函数                                                   |</span>
<span class="token comment">//+------------------------------------------------------------------+</span>
<span class="token keyword">void</span> <span class="token function">OnStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
<span class="token comment">//--- 创建颜色编辑物件的7x20表格</span>
   <span class="token keyword">for</span><span class="token punctuation">(</span>uint i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">140</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token function">CreateColorBox</span><span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">,</span>i<span class="token operator">/</span><span class="token number">7</span><span class="token punctuation">,</span>ExtClr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><h2 id="_25-12-objectsetstring"><a href="#_25-12-objectsetstring" class="header-anchor">#</a> 25.12 ObjectSetString</h2> <p>该函数设置相应对象的属性值。对象属性必须是字符串类型。该函数有2种变体。</p> <p>设置属性值，无修饰符</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectSetString</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_STRING     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性 </span>
   string                          prop_value         <span class="token comment">// 值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>设置属性值，带修饰符</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectSetString</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_STRING     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性 </span>
   <span class="token keyword">int</span>                             prop_modifier<span class="token punctuation">,</span>     <span class="token comment">// 修饰符 </span>
   string                          prop_value         <span class="token comment">// 值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0表示当前图表。</p> <p>name</p> <p>[in] 物件名称。</p> <p>prop_id</p> <p>[in] 物件属性ID。取值范围是 ENUM_OBJECT_PROPERTY_STRING 枚举值之一。</p> <p>prop_modifier</p> <p>[in] 指定属性的修饰语，用于表示 斐波纳契 图解对象的水平线的数量 和 安德鲁分叉图解物件，水平线的编号从0开始。</p> <p>prop_value</p> <p>[in] 属性值。</p> <p>返回值</p> <p>当更改图形对象属性的命令已成功发送到图表命令队列时，该函数才返回true。否则返回false。调用函数GetLastError() 读取更多关于错误信息。</p> <p>注意</p> <p>该函数使用非同步调用，这意味着该函数不会等待已添加到指定图表命令队列的执行结果。相反，它立即返回控制。</p> <p>要检查命令执行结果，可以使用请求指定对象属性的函数。但是，您应该记住，此类函数会添加到该图表队列的末尾，并且它们会等待执行结果，因此可能非常耗时。在图表上处理大量对象时，应考虑此功能。</p> <p>重命名图形对象时，会同时形成两个事件。这些事件可以通过OnChartEvent()函数在EA交易程序 或 指标中处理：<br>
• 删除具有旧名称的对象的事件；<br>
• 使用新名称创建对象的事件。<br></p> <h2 id="_25-13-objectgetdouble"><a href="#_25-13-objectgetdouble" class="header-anchor">#</a> 25.13 ObjectGetDouble</h2> <p>该函数返回相应对象的属性值。对象属性必须是双精度类型。该函数有2种变体。</p> <ol><li>直接返回属性值。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">double</span>  <span class="token function">ObjectGetDouble</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_DOUBLE     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">int</span>                             prop_modifier<span class="token operator">=</span><span class="token number">0</span>    <span class="token comment">// 属性修饰符, 如果需要的话 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>返回true或false，具体取决于函数的成功。如果成功，则将属性值放在由最后一个形式参数传递的接收变量上。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectGetDouble</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_DOUBLE     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">int</span>                             prop_modifier<span class="token punctuation">,</span>     <span class="token comment">// 属性修饰符 </span>
   <span class="token keyword">double</span><span class="token operator">&amp;</span>                         double_var         <span class="token comment">// 这里接受属性值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0代表当前图表。</p> <p>name</p> <p>[in] 物件名称。</p> <p>prop_id</p> <p>[in] 物件属性ID。取值范围是 ENUM_OBJECT_PROPERTY_DOUBLE 枚举值之一。</p> <p>prop_modifier</p> <p>[in] 指定属性修饰语，对于该函数的第一种变体来说，默认修饰语的值是0,大多属性不要求修饰语。表示 斐波纳契图解工具的水平线数量 和 安德鲁分叉图解物件 时，水平线编号从0开始。</p> <p>double_var</p> <p>[out] 用于接收需求属性值的双精度类型变量。</p> <p>返回值</p> <p>调用第一种变体，该函数返回双精度类型值。</p> <p>调用第二种变体，如果维护此属性并将值成功放入double_var变量，则函数返回true，否则返回false。为了获取更多关于错误的详细信息，请调用GetLastError()。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <h2 id="_25-14-objectgetinteger"><a href="#_25-14-objectgetinteger" class="header-anchor">#</a> 25.14 ObjectGetInteger</h2> <p>该函数返回相应对象的属性值。对象属性必须是日期时间，整型，颜色，布尔或者字符类型。该函数有2种变体。</p> <ol><li>直接返回属性值。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">long</span>  <span class="token function">ObjectGetInteger</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                             chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                           name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_INTEGER     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">int</span>                              prop_modifier<span class="token operator">=</span><span class="token number">0</span>    <span class="token comment">// 属性修饰符, 如果需要的话 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>返回true或false，具体取决于函数的成功。如果成功，则将属性值放在由最后一个形式参数传递的接收变量上。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectGetInteger</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                             chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                           name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   <span class="token keyword">int</span>                              prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性标识符 </span>
   ENUM_OBJECT_PROPERTY_INTEGER     prop_modifier<span class="token punctuation">,</span>     <span class="token comment">// 属性修饰符 </span>
   <span class="token keyword">long</span><span class="token operator">&amp;</span>                            long_var           <span class="token comment">// 这里接受属性值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0代表当前图表。</p> <p>name</p> <p>[in] 物件名称。</p> <p>prop_id</p> <p>[in] 物件属性ID。取值范围是 ENUM_OBJECT_PROPERTY_INTEGER 枚举值之一。</p> <p>prop_modifier</p> <p>[in] 指定属性修饰语，对于该函数的第一种变体来说，默认修饰语的值是0,大多属性不要求修饰语。表示 斐波纳契图解工具的水平线数量 和 安德鲁分叉图解物件 时，水平线编号从0开始。</p> <p>long_var</p> <p>[out] 用于接收需求属性值的长整型变量。</p> <p>返回值</p> <p>调用第一种变体，该函数返回长整型值。</p> <p>调用第二种变体，如果维护此属性并将值成功放入long_var变量，则函数返回true，否则返回false。为了获取更多关于错误的详细信息，请调用GetLastError()。</p> <p>注意</p> <p>该函数使用同步调用，这意味着这个函数会等待在调用之前已进入图表的所有命令队列中的执行完成之后才执行，这就是该函数耗费时间的原因。当处理图表上的大量对象时应该考虑这个特性。</p> <h2 id="_25-15-objectgetstring"><a href="#_25-15-objectgetstring" class="header-anchor">#</a> 25.15 ObjectGetString</h2> <p>该函数返回相应对象的属性值。对象属性必须是字符串类型。该函数有2种变体。</p> <ol><li>直接返回属性值。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string  <span class="token function">ObjectGetString</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_STRING     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">int</span>                             prop_modifier<span class="token operator">=</span><span class="token number">0</span>    <span class="token comment">// 属性修饰符, 如果需要的话 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>返回true或false，具体取决于函数的成功。如果成功，则将属性值放在由最后一个形式参数传递的接收变量上。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">ObjectGetString</span><span class="token punctuation">(</span> 
   <span class="token keyword">long</span>                            chart_id<span class="token punctuation">,</span>          <span class="token comment">// 图表标识符 </span>
   string                          name<span class="token punctuation">,</span>              <span class="token comment">// 物件名称 </span>
   ENUM_OBJECT_PROPERTY_STRING     prop_id<span class="token punctuation">,</span>           <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">int</span>                             prop_modifier<span class="token punctuation">,</span>     <span class="token comment">// 属性修饰符 </span>
   string<span class="token operator">&amp;</span>                         string_var         <span class="token comment">// 这里接受属性值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>chart_id</p> <p>[in] 图表标识符。0代表当前图表。</p> <p>name</p> <p>[in] 物件名称。</p> <p>prop_id</p> <p>[in] 物件属性ID。取值范围是 ENUM_OBJECT_PROPERTY_STRING 枚举值之一。</p> <p>prop_modifier</p> <p>[in] 指定属性修饰语，对于该函数的第一种变体来说，默认修饰语的值是0,大多属性不要求修饰语。表示 斐波纳契图解工具的水平线数量 和 安德鲁分叉图解物件 时，水平线编号从0开始。</p> <p>string_var</p> <p>[out] 用于接收需求属性值的长整型变量。</p> <p>返回值</p> <p>调用第一种变体，该函数返回字符串型值。</p> <p>调用第二种变体，如果维护此属性并将值成功放入string_var变量，则函数返回true，否则返回false。为了获取更多关于错误的详细信息，请调用GetLastError()。</p> <p>注意</p> <p>重命名图形对象时，会同时形成两个事件。这些事件可以通过OnChartEvent()函数在EA交易程序 或 指标中处理：<br>
• 删除具有旧名称的对象的事件；<br>
• 使用新名称创建对象的事件。<br></p> <h2 id="_25-16-textsetfont"><a href="#_25-16-textsetfont" class="header-anchor">#</a> 25.16 TextSetFont</h2> <p>该函数设置使用绘制方法显示文本的字体，并返回该操作的结果。默认情况下使用大小为-120(12 pt)的Arial字体。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">TextSetFont</span><span class="token punctuation">(</span> 
   <span class="token keyword">const</span> string  name<span class="token punctuation">,</span>            <span class="token comment">// 字体名称或磁盘上字体文件的路径 </span>
   <span class="token keyword">int</span>           size<span class="token punctuation">,</span>            <span class="token comment">// 字体大小 </span>
   uint          flags<span class="token punctuation">,</span>           <span class="token comment">// 组合标识 </span>
   <span class="token keyword">int</span>           orientation<span class="token operator">=</span><span class="token number">0</span>    <span class="token comment">// 文本方向 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 系统字体名称或包括字体或磁盘字体文件路径的资源名称。</p> <p>size</p> <p>[in] 字体大小。</p> <p>flags</p> <p>[in] 描述字体样式的组合标帜。</p> <p>orientation</p> <p>[in] 文字与X轴的水平倾斜度，测量单位为0.1度。 这意味着方向= 450代表倾斜度等于45度。</p> <p>返回值</p> <p>如果当前字体成功安装，返回true，否则返回false。可能出现的错误代码：<br>
• ERR_INVALID_PARAMETER(4003) - name 显示 NULL 或 &quot;&quot; (空字符串)，<br>
• ERR_INTERNAL_ERROR(4001) - 操作系统错误 (例如，试图创建不存在的字体)。<br></p> <p>注意</p> <p>如果在字体名称中使用“::”，则从EX5资源下载字体。如果使用扩展名指定名称字体名称，则从文件下载字体，如果路径从“\”或“/”开始，则相对于MQL5目录搜索文件。 否则，相对于调用TextSetFont()函数的EX5文件的路径进行搜索。<br>
字体大小使用 正负值 进行设置。该事实从操作系统设置定义了文本大小的依赖性(大小比例)。<br>
• 如果大小指定为 正数，那么当从逻辑字体变为物理字体时，该大小转变为设备的物理测量单位(像素)，并且该大小符合从有效字体挑选的符号图形高度。当在图表上一起使用通过TextOut()函数显示的文本 和 通过OBJ_LABEL (&quot;Label&quot;) 图形物件显示的文本时，不推荐使用这种情况。<br>
• 如果大小指定为 负数，那么该数字被认为是逻辑点的十分之一( -350等于35逻辑点)并且被10除。获得的值然后转变为设备的物理测量单位(像素)，并且符合从有效字体挑选的符号高度的绝对值。物件属性中指定的字体大小乘以 -10，使得屏幕上的文本大小类似OBJ_LABEL物件的文本大小。</p> <p>该标识可以被用作样式标识和指定字体宽度标识的结合体。标识名称显示如下。</p> <p>指定字体样式的标帜</p> <table><thead><tr><th>标识</th> <th>描述</th></tr></thead> <tbody><tr><td>FONT_ITALIC</td> <td>斜体字</td></tr> <tr><td>FONT_UNDERLINE</td> <td>下划线</td></tr> <tr><td>FONT_STRIKEOUT</td> <td>加删除线</td></tr></tbody></table> <p>指定字体宽度的标帜</p> <table><thead><tr><th>标识</th></tr></thead> <tbody><tr><td>FW_DONTCARE</td></tr> <tr><td>FW_THIN</td></tr> <tr><td>FW_EXTRALIGHT</td></tr> <tr><td>FW_ULTRALIGHT</td></tr> <tr><td>FW_LIGHT</td></tr> <tr><td>FW_NORMAL</td></tr> <tr><td>FW_REGULAR</td></tr> <tr><td>FW_MEDIUM</td></tr> <tr><td>FW_SEMIBOLD</td></tr> <tr><td>FW_DEMIBOLD</td></tr> <tr><td>FW_BOLD</td></tr> <tr><td>FW_EXTRABOLD</td></tr> <tr><td>FW_ULTRABOLD</td></tr> <tr><td>FW_HEAVY</td></tr> <tr><td>FW_BLACK</td></tr></tbody></table> <p>相关参考</p> <p>资源， ResourceCreate()， ResourceSave()， TextOut()</p> <h2 id="_25-17-textout"><a href="#_25-17-textout" class="header-anchor">#</a> 25.17 TextOut</h2> <p>该函数显示自定义数组中的文本(缓冲区)并返回该操作结果。数组是专为创建图形资源而设计的。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">TextOut</span><span class="token punctuation">(</span> 
   <span class="token keyword">const</span> string       text<span class="token punctuation">,</span>          <span class="token comment">// 显示的文本 </span>
   <span class="token keyword">int</span>                x<span class="token punctuation">,</span>             <span class="token comment">// X 坐标  </span>
   <span class="token keyword">int</span>                y<span class="token punctuation">,</span>             <span class="token comment">// Y 坐标  </span>
   uint               anchor<span class="token punctuation">,</span>        <span class="token comment">// 定位类型 </span>
   uint               <span class="token operator">&amp;</span>data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token comment">// 输出缓冲区 </span>
   uint               width<span class="token punctuation">,</span>         <span class="token comment">// 缓冲区像素宽度 </span>
   uint               height<span class="token punctuation">,</span>        <span class="token comment">// 缓冲区像素高度 </span>
   uint               color<span class="token punctuation">,</span>         <span class="token comment">// 文本颜色 </span>
   ENUM_COLOR_FORMAT  color_format   <span class="token comment">// 输出的颜色格式 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>参数</p> <p>text</p> <p>[in] 将被写入缓冲区的文本显示。只显示单行文本。</p> <p>x</p> <p>[in] 显示文本的定位点的 X 坐标。</p> <p>y</p> <p>[in] 显示文本的定位点的 Y 坐标。</p> <p>anchor</p> <p>[in] 显示文本定位点位置的9种预定义方法的值。该值通过结合两种标帜设置 —— 水平和垂直文本对齐标帜。标帜名称列在附注中。</p> <p>data[]</p> <p>[in] 缓冲区，文本在这里显示。缓冲区被用于创建图形资源。</p> <p>width</p> <p>[in] 缓冲区像素宽度。</p> <p>height</p> <p>[in] 缓冲区像素高度。</p> <p>color</p> <p>[in] 文本颜色。</p> <p>color_format</p> <p>[in] 通过ENUM_COLOR_FORMAT 枚举值设置的颜色格式。</p> <p>返回值</p> <p>如果成功，返回 true ，否则 false。</p> <p>注意</p> <p>通过anchor指定的定位点是水平文本对齐和垂直文本对齐两个标识的组合。水平文本对齐标帜：<br>
•TA_LEFT —— 边框左侧定位点<br>
•TA_CENTER —— 边框中心的水平定位点<br>
•TA_RIGHT —— 边框右侧定位点<br></p> <p>垂直文本对齐标帜<br>
•TA_TOP —— 边框上方定位点<br>
•TA_VCENTER —— 边框中心的垂直定位点<br>
•TA_BOTTOM —— 边框下方定位点<br></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcMAAACoCAMAAACrHHXBAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACZUExURf///wAAAJmZmbu7u93d3YiIiCIiIjMzM0RERHd3d2ZmZlVVVaqqqhEREe7u7szMzOju9PT2+qm+14Wjxounydfh7Iilx4akx/L1+fn5+enp6fT09PX3+v7+/ommyOft9Orq6t7e3uLi4uDg4PPz8/Hx8ebm5ujo6P39/fX19ff39+/v7/v7++Tk5OLk5uzs7Ors78LL1gAAAPpPc/wAAAAzdFJOU///////////////////////////////////////////////////////////////////AHGevY4AAAAJcEhZcwAADsMAAA7DAcdvqGQAABErSURBVHhe7V3bkpu6EgWDwcYGV+0kp3YqqUrVvMzz/v+fO2t1t4TAdnzD1oC1JhmJ1qVRL7UkbEbKnop8ZZEoKPLSYlGwriwyQ5RVXlv0zTisBs2dF4frjUUEW1yZhBzmikIET8FGNazt0sM4XFd5vjlic/Wohdems+mb5jjUkBwWcmd5LuIvjSGHTTPgkMETCVRsjggElMM1Db3DPQ3xOIdoYpPv7UpwzCFQzIBAwBhbteyY5hU5WxBwWNZ5XsOmFdyinZxT4XAHpai5aaCK18Jhlxt9B0h3uMkaN7iG9XmHXla7XNeDjS5RE6kSn9xk1aZFG0teoOEhhwXGAira4B4HHf7LQDks0KACdJ32w6oqyxbSCgRu2k7k04EcclCrUXNDw1KlcLg3V+mgvKzW2Qq23OcH8cNedjOD2sQGGkAVqayxBqjQhWpQdeSHJYjbI9MKIc30BaGMbVv82qGLn+LwwDvfosls354WnhTksIX19tBI/R3VCYcr00XeeFsyhrZ7Cb2Md34r6HsVy1fQASpBFdu2IpdjDtdUVCMjRbXa5otBGdNBdHuaw0JGF0TYvtLk04Ec0pnYyak/q+RCOFQ/lOEOC2YxI26C4UB2K8g9ewqoYgcVP0SzWNcJDnEnm1wVNfdoezqUMXdvZzgUP+ykfc/xQ044HDmHfljaOElfkZB3aRwOZLeCTWwwdAuHmAfhaX/hkH5oneUr+6G4GkAbrnTG6znEXNHpfFgdOowqE0Pnw4PNhxhPyY5wKNNj1my61rikbnKInAPZrWCjD1AFqtY2FnsOoXHAYSmTsE68KzPKF4M9Kq2xLnV+UMtzfsAhl4AbECtrN/TKaUEOOwzmrLnBKrOlYuVQ7m5zyArcAEZ6xyHusB3IboV03E1NqmQlikW343Al6+KAQ1mybxngHhHOCSe6nI4zz4TMh4Rx+HxsK/g0Z+ABjMMQd3WWyHgTDnfg8NCO/StxeD9ezyHnieNHzIVwmJCQkJCQkJCQkJCQkJCQ/Wvhbxd5KeJqj61+Ivzz7dsPhj++f/tHBC9FXO2x1U+Ef799+/Yd7fiB8NvLO2Nc7b3671HUTwU2A51RWhGHw3javXr+/j5fDtUFxIY6rLwWcbXHVj8ZpB1ElFbE1R5b/WSwdkgrfnWfL/tRs4XaszD52T8n1M8Xg2aU3at+Pj9/jrV3QfKzf06ony+sFd6M6KIv+fcpr2ONtI8zPe/fKfVzhW9FlHbE1R5b/UT4rQ3QxkR7tpAg7rPFjJ8PO2mF9cip/7ziIuJqj61+MviPm75F/awtivbY6ifDHxtE/v2j4WsRV3ts9QkJA8x4MngYvy2cN/DIa7F3xDJajwd7i70jykW0vuxe9Lb8l0S3iNYnP5w/kh/OH519EfOeWIYffnx+Wuwd8WcZfvjWHC7DDz/fmsPPRfjhe3OY/HD+WMa6NPnh/JH8cP5Ifjh/vDeHH8kPH8b+VfvTnMEyvnuKy+HL9hg6g677sNic8RQO95Xu+TxEeUyYcFjJ1kzcE7PkBquyo2GIE+WmQpoPz+HADbHdbpM9znEoW4dmTZ51bV1mh3ac64kcLuPz0mdwqI6FkaqGO5bgoJGtgLn9ZAmuuOF7me9ykCwcdrLXZLvNtrmNbC7PcbmsRTiZ3X9+6Gv7M8cTOFROgA0I3NTgoi7Ldq3+xM2m13lXyqb+Nh/uwCY37uZmzYTPc1wuq8Rpp0L6vPQMuIc9Ibs9H3LlYLfVsNohpS1sfFQOufH0jptty2bHwzyjcrYB8FSwP5+ZOZ7CofqhneACfwIHTaNcqGw/4JB7tZNvNwaHeUblJt6YM/nhObTKhdubf8CF7eU75HDbcpjElKdeEeYZlZuYw49u+ta/Hs/gkOd8YPLCXCic9FxgTbJuZT4bcniQI14gxARaVEWYZ1Quk23AJ8Nnej48hxWeD+uVPu5xTaNccGl54C83vnoOs1qPuOBuv1jEhHlG5ab2wzQfPgzHYSyk+fBxxOYwzYePI74fpvlw7vhIHM4e6bun+SPNh/NHmg/nj+SH80da05xHV5by0ODC54C1D9YkR4JLeNs1TffhiQmiA8CWInfhBcCUvsbgDyIv/W3kzzFl5PCXxa/CMubDO94KCogJogM4+ZV+2FfDAo6XXnoGJ/1QtkS8Fh+LeJ/mjq1NAmLOceTkCP5Og6Ing7GAwws3N87R13MlbnLa5+DE4YUvAM18HB3Ayc9xPMKIQyvihedwRNmV6h6BHE//MMpW30UBHuXQbXfV3bTdVWCpc0ZzcgTnjerGMWj3+Rix6BWEIMcRh3+nPcCfXv1fwS/Depw49vIq2DHohi2/YNW3h8hhJdHi7NuZf/nW9M5t57yVB1Haz1vQyQMeLL3fmekfOZtAtTOJcc2ktTDCkH/Y4oWSpbN6+VulXN2UHyK4dj48fb7Flt9SwoY7fu+scN9Yqh3Job30xXPot60cFT3C8XuZIw75rahJyGH/dmZ18u3M89+a/gm3f7zBE9WAw+gvGlEgl07uBb8ZExgVQ+0/LAHlWNRxKCEFCqEHlx+fvAqyCIUGV/8FnGk8DdvoF9IOIw5Jz44HefM1rbXwzXcQBjhxIK0xxhct1xkPtiVYFznUToGErfsep+nfxKxKOVScp9Efv53ZyckAtg3rlU0naCk4xy/8SNTJ1F+c/UVOCUMRGExTqP1/zEc5Ql9nL/Kg2F9r1Ktz4PUVkP1LjxtPU/O9PFIlPllnFYY3b0cdS/lOenbI9507YvhQ5fL+CfOuQTHpoQzsrqqauZTDAqkFXHzkhyffzlzxrYWqyGpUwn7kZYO3M7UBAhlWrkRoVcCJToUunaEnhAJgoN3k/G1lg0CKulAE7C8qC2r9Ke7Z8/F3nG68+mFJqkglbRraERnExcjKNlcu5XqTldUaJt4JFeKHkHWYS1fKszKGMiBsfcShezuzVZnokzcxyR3vAeGZtzN9O26hUKwZwERqO4s4uRHhr/sIEGo3OX+zDOqwonalaYwYYYRLI3cyzvZJV+Bk49dwoQr9HFStSCVsTvutzI5IkKlu23Yc+lY2a5I3cqLc7SX0MilgjHHFkmPgHHOYtTt9O9P8ULKhItGNyjiOh7IQ1o6bKFQr9qAIATcN60JDm3xIBOdNjQGBds2hxTSLZURgtFisr+s4T5h2GacaT6PTmODw4PwwsKMkAId8VdDfzA/JvPxZARORn+FAJhUDjV4cc8i3M/GwyiGACN/EZAUMz72deReH3mSeKwYeoVWDdF5ewSESNbcV6fMjNqzLCgV5grQrcJJDkIb1Id3tkLd5DV8K7YgEZaHeNMhZ2nxIl5WQicjH0MtCPyyUMeGQcxugEv92JtalRV3oQjXQzW5lb2eOOLRW3EjiyIoMEXjwzkK5XfZMWGyoXeSaKIVHNQAmCepylfk8YdpFnGw8TQ0nI1UcR4nQjp5DeBkvG/5u6q41Lh2HoGcgkwIsIsFeOMTqlCOnsRq8nSl1Mp++iakdAsJA1sO34jYSvcl8VG3XZb/wX2zosgR25+XAykPtH8zS5+Ya19Vk+REb1uUrQ6Af3AdpF1GabiBovLjLpiZVshKFWwzsaPMhngaUYXKyoesg3HoO+fAwkP0FxuGdGBzxYIa6BiMrMkQw+Og8kA/T+7ID7ZoQlJJLxvsCJvEpgEW5ppHrMO0CBmfnnSyzrdAh3STkYX44HR7jcPCYe2XTCRjKzOqjgUjgrgNW/LUT/Bdox0M2UwLeAEZ7WlzEVWlRJ2LoHv2vweUPOHbg8KCfyAT4Yhze+1nbyIoSofW4MIUglFPsrplBfruEoXZKLFFzmw6JaklfleQCLKrVWimXdgkXGy9T09gNp+fwUVz7se8QtNQ4yunMEMppV4bKhEBVSmzwibskamZlw92bXAj8tUQ0KrlcHplUr8V9jV8IRlbsYwJvVIYUMOzTzXCIjU0nyUHUcjp2w4pcko/KKIp4kPZOuKPNQZGwNJ7y/eVxJPsVJp8y9uAL2UFqWHOW9d9M/Pzp4j9djtu+1T26h1kC04jFXglw+CXM130sgcVBD38Z4IYWi4tlvE9z6d2xpwBrj69hu4Xs5x3Dml+m95eL+DvgZexYdi/irAamBp/M3xfLaP0yeuK9WMbf45dv+TGFwzL+7qn7fGc/XMbfPb33fLiMv3t69/kw+eHckdal88dSng/f+W+5l9H6NB/OH+8+HyY/nDuW8Wnxu8+HS+Dwzf1wEd/jp/lw/kjz4fyRng/nj/R8OH+k+XD+SPPh/JHmw/kjzYfzR5oP5480H84faT6cP9J8OH+k+XD+SPPh/JHmw/kjzYfzR5oP5480H84fy3gb4V4sZRR6Zw6v3cA9IeGJiLvdVeTNtpax19ede+5NBKe9jKI9cuOnwr3nW0wD0Y41cRztsdVPhTNHPLwIcbXHVj8ZtAECGVZei7jaY6ufDL4dUVoRV3ts9ZPB2iGt6D7LrnzVfxm9Qu0/P16JI/UzxqAZ3efLfnQCGvSgl+JI/XxhrfBmpIO85udY+68w+dk/x+rnCt+KKO2Iqz22+okQLq9PH/HwTAwW97Y7+wtx+XyLWUCsiD4o7YjDodMe6Rk/nvrJ8DU+a4ujfSGftcX+2Pe+E6Unw1ufb5GQkJCQkJCQkJAwNXg8akQUdvBxLNjJsDNE2ebuJMYHT8F8FK/nUE9Id5gThzwyvMd24yXCIQ/cbPWkd4EcB94+4KFFledVUKGiPCZMORzrb3YnM98OOQV7m2U7O8cecBxq8/RUUeaqAnVMsyPRvxDsPH3DrvES4XCzzro6uGe5/+ER3jfhkLOTHB26epbDsX7e3yQcsrM2PX+Ea5aG6od5kR1aHk9vkJO4vx6H6nUr6ZYb9juAd+k4RJdlRPxBzmEn9Dh39ONVDVfZbvUc/suojL4OpdC/yxwla1EOYhCHjjLfUb/nsNdfZHBiRen073aQ7VHbjWMDO2rJZuCGxCfrrIKOqpRz09F088MCqmGhos3R+ySNaLOS4wnusIVJqn2Vt/9JtXGgXlegOQVumCfsH/mhdNkiq9uuP+Z9hQJbCFd5AxvU5YGtvYjOHWa9Qfs3NEpdlhifxLXWqGLddpAxR+CHTn/eyf1JZqe/wW3uYF4UZKmrwUY27AqgA1XV0FlV0IGuaH7oODzI/W2yPbJp05nSVrhR1FFVh6xFyk6NFgfK2Jaet1sfc8heh3vneLKHxHO4g3N04I8CMepwRXAGNBfRMTzkWnK31bCiK7dFmR+YxTgc6fccOv0U+Hu4AfQ9mJ9UrVCUvi78gEttiY2lzIauxXvimO44lIZsUZACuQfJHgk6lnLtwLHpiEPc6hoxniROX/Xz4YZkoiNSoAxIyy8AY6eEhajL0ZVREjolVNne2AjH0l6/59Dpv5tD3Dp5AIcHhOKH5Md4kgSAo8smL9eiEjyTX6oraB0OHBS4e4gGZayxWzjFIQ3I6W6PJYDcqnCIxnJk9Pa7yg/dfFhK5VbScVhBt5OFHIb6ew5N/wMcZg3GX+GwzWv4mXCIqsYcgi/1w4Bn9if4YScC3sMewmhQxqRfAWISriECDleINWiEzIecdioR2nzo7Kctv4QV5xAMXJtapi8pKRzCVutWBtEBh/VIf4PiktnPh/dyCEIOqBhUuSdBzyH7TcAhpk2ss2w+5P20v9Fl3XxoHLJgNMiiDOszLLysn2PNyBtSDjU16xBhX5U0LCP3MKAs327kEPlR0SorWXGtJakTq7sDf7nx1fshRYF+rAwxByKX0383h+y6WHGCKllt1jq1sSo0DxqD+ZBymIfTANJWYoMSsw+r8BzG9MOzEA7jQTl8BbZVl3U2kPdQP5w53obDHcZot9jqkTh8HK/j8MBF+dgNX8Rhlv0f/VxP2P+Z50QAAAAASUVORK5CYII=" alt="锚点定位示意图"></p> <p>图片中显示了标帜和指定定位点可能的组合。</p> <p>示例：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">//--- 画布的宽和高（用于绘制） </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IMG_WIDTH</span>  <span class="token expression"><span class="token number">200</span> </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IMG_HEIGHT</span> <span class="token expression"><span class="token number">200</span> </span></span>
<span class="token comment">//--- 启动脚本前显示参数窗口 </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">property</span> <span class="token expression">script_show_inputs </span></span>
<span class="token comment">//--- 启用设置颜色格式 </span>
input ENUM_COLOR_FORMAT clr_format<span class="token operator">=</span>COLOR_FORMAT_XRGB_NOALPHA<span class="token punctuation">;</span> 
<span class="token comment">//--- 绘制数组（缓冲区）  </span>
uint ExtImg<span class="token punctuation">[</span>IMG_WIDTH<span class="token operator">*</span>IMG_HEIGHT<span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token comment">//+------------------------------------------------------------------+ </span>
<span class="token comment">//| 脚本程序起始函数                                                   | </span>
<span class="token comment">//+------------------------------------------------------------------+ </span>
<span class="token keyword">void</span> <span class="token function">OnStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span> 
<span class="token comment">//--- 创建用于绘制的OBJ_BITMAP_LABEL物件     </span>
   <span class="token function">ObjectCreate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;CLOCK&quot;</span><span class="token punctuation">,</span>OBJ_BITMAP_LABEL<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//--- 指定用于在CLOCK物件编写的图形资源的名称 </span>
   <span class="token function">ObjectSetString</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;CLOCK&quot;</span><span class="token punctuation">,</span>OBJPROP_BMPFILE<span class="token punctuation">,</span><span class="token string">&quot;::IMG&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//--- 辅助变量 </span>
   <span class="token keyword">double</span> a<span class="token punctuation">;</span>            <span class="token comment">// 箭头计数器 </span>
   uint   nm<span class="token operator">=</span><span class="token number">2700</span><span class="token punctuation">;</span>      <span class="token comment">// 分钟计数器 </span>
   uint   nh<span class="token operator">=</span><span class="token number">2700</span><span class="token operator">*</span><span class="token number">12</span><span class="token punctuation">;</span>   <span class="token comment">// 小时计数器 </span>
   uint   w<span class="token punctuation">,</span>h<span class="token punctuation">;</span>          <span class="token comment">// 接收文本字符串大小的变量  </span>
   <span class="token keyword">int</span>    x<span class="token punctuation">,</span>y<span class="token punctuation">;</span>          <span class="token comment">// 计算文本字符串定位点当前坐标的变量</span>
 
<span class="token comment">//--- 无限循环旋转时针，直至脚本停止 </span>
   <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">IsStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
     <span class="token punctuation">{</span> 
      <span class="token comment">//--- 清空绘制缓冲区数组的时钟 </span>
      <span class="token function">ArrayFill</span><span class="token punctuation">(</span>ExtImg<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>IMG_WIDTH<span class="token operator">*</span>IMG_HEIGHT<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 为钟面设置绘制数字的字体 </span>
      <span class="token function">TextSetFont</span><span class="token punctuation">(</span><span class="token string">&quot;Arial&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span>FW_EXTRABOLD<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 绘制钟面 </span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span> 
         <span class="token comment">//--- 接收钟面上当前小时的大小 </span>
         <span class="token function">TextGetSize</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token comment">//--- 计算钟面上当前小时的坐标 </span>
         a<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">*</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3600</span><span class="token operator">*</span>M_PI<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1800.0</span><span class="token punctuation">;</span> 
         x<span class="token operator">=</span>IMG_WIDTH<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">80</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token operator">+</span>w<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         y<span class="token operator">=</span>IMG_HEIGHT<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">80</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token operator">+</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
         <span class="token comment">//--- 输出钟面上的小时到ExtImg[]缓冲区 </span>
         <span class="token function">TextOut</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>TA_LEFT<span class="token operator">|</span>TA_TOP<span class="token punctuation">,</span>ExtImg<span class="token punctuation">,</span>IMG_WIDTH<span class="token punctuation">,</span>IMG_HEIGHT<span class="token punctuation">,</span><span class="token number">0xFFFFFFFF</span><span class="token punctuation">,</span>clr_format<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
      <span class="token comment">//--- 现在，指定绘制分针的字体       </span>
      <span class="token function">TextSetFont</span><span class="token punctuation">(</span><span class="token string">&quot;Arial&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span>FW_EXTRABOLD<span class="token punctuation">,</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span>nm<span class="token operator">%</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 接收分针的大小 </span>
      <span class="token function">TextGetSize</span><span class="token punctuation">(</span><span class="token string">&quot;-----&gt;&quot;</span><span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 计算钟面上分针的坐标 </span>
      a<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">(</span>nm<span class="token operator">%</span><span class="token number">3600</span><span class="token operator">*</span>M_PI<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1800.0</span><span class="token punctuation">;</span> 
      x<span class="token operator">=</span>IMG_WIDTH<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      y<span class="token operator">=</span>IMG_HEIGHT<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 在ExtImg[]缓冲区输出分针到钟面 </span>
      <span class="token function">TextOut</span><span class="token punctuation">(</span><span class="token string">&quot;-----&gt;&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>TA_LEFT<span class="token operator">|</span>TA_TOP<span class="token punctuation">,</span>ExtImg<span class="token punctuation">,</span>IMG_WIDTH<span class="token punctuation">,</span>IMG_HEIGHT<span class="token punctuation">,</span><span class="token number">0xFFFFFFFF</span><span class="token punctuation">,</span>clr_format<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
      <span class="token comment">//--- 现在，设置绘制分针的字体       </span>
      <span class="token function">TextSetFont</span><span class="token punctuation">(</span><span class="token string">&quot;Arial&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span>FW_EXTRABOLD<span class="token punctuation">,</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span>nh<span class="token operator">/</span><span class="token number">12</span><span class="token operator">%</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token function">TextGetSize</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&quot;</span><span class="token punctuation">,</span>w<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 计算钟面上时针的坐标 </span>
      a<span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">(</span>nh<span class="token operator">/</span><span class="token number">12</span><span class="token operator">%</span><span class="token number">3600</span><span class="token operator">*</span>M_PI<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1800.0</span><span class="token punctuation">;</span> 
      x<span class="token operator">=</span>IMG_WIDTH<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      y<span class="token operator">=</span>IMG_HEIGHT<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">*</span>h<span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 在ExtImg[]缓冲区输出时针到钟面 </span>
      <span class="token function">TextOut</span><span class="token punctuation">(</span><span class="token string">&quot;==&gt;&quot;</span><span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>TA_LEFT<span class="token operator">|</span>TA_TOP<span class="token punctuation">,</span>ExtImg<span class="token punctuation">,</span>IMG_WIDTH<span class="token punctuation">,</span>IMG_HEIGHT<span class="token punctuation">,</span><span class="token number">0xFFFFFFFF</span><span class="token punctuation">,</span>clr_format<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
      <span class="token comment">//--- 更新图形资源 </span>
      <span class="token function">ResourceCreate</span><span class="token punctuation">(</span><span class="token string">&quot;::IMG&quot;</span><span class="token punctuation">,</span>ExtImg<span class="token punctuation">,</span>IMG_WIDTH<span class="token punctuation">,</span>IMG_HEIGHT<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>IMG_WIDTH<span class="token punctuation">,</span>clr_format<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 强制图表更新 </span>
      <span class="token function">ChartRedraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
      <span class="token comment">//--- 增加小时和分钟计数器 </span>
      nm<span class="token operator">+=</span><span class="token number">60</span><span class="token punctuation">;</span> 
      nh<span class="token operator">+=</span><span class="token number">60</span><span class="token punctuation">;</span> 
      <span class="token comment">//--- 框架之间保持短暂停顿 </span>
      <span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
     <span class="token punctuation">}</span> 
<span class="token comment">//--- 完成脚本操作时删除 CLOCK 物件 </span>
   <span class="token function">ObjectDelete</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;CLOCK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//--- </span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p>相关参考
资源， ResourceCreate()， ResourceSave()， TextGetSize()， TextSetFont()</p> <h2 id="_25-18-textgetsize"><a href="#_25-18-textgetsize" class="header-anchor">#</a> 25.18 TextGetSize</h2> <p>该函数返回当前字体设置的线宽和高度。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">TextGetSize</span><span class="token punctuation">(</span> 
   <span class="token keyword">const</span> string       text<span class="token punctuation">,</span>          <span class="token comment">// 文本字符串 </span>
   uint<span class="token operator">&amp;</span>               width<span class="token punctuation">,</span>        <span class="token comment">// 缓冲区像素宽度 </span>
   uint<span class="token operator">&amp;</span>               height        <span class="token comment">// 缓冲区像素高度 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>text</p> <p>[in] 字符串，用于获得长度和宽度。</p> <p>width</p> <p>[out] 接收宽度的输入参数。</p> <p>height</p> <p>[out] 接收高度的输入参数。</p> <p>返回值</p> <p>如果成功返回true，否则 false。可能的错误代码：</p> <p>• ERR_INTERNAL_ERROR(4001) —— 操作系统错误。</p> <p>相关参考</p> <p>资源， ResourceCreate()， ResourceSave()， TextSetFont()， TextOut()</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mql5yao/Chapter/twentyfour.html" class="prev">
        24 第二十四章 自定义指标
      </a></span> <span class="next"><a href="/mql5yao/Chapter/twentysix.html">
        26 第二十六章 技术指标
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/mql5yao/assets/js/app.33d9106b.js" defer></script><script src="/mql5yao/assets/js/3.64586e1a.js" defer></script><script src="/mql5yao/assets/js/17.069370d9.js" defer></script>
  </body>
</html>
