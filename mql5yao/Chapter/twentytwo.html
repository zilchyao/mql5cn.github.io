<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能交易*姚 文档站</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/mql5yao/favicon.ico">
    <meta name="description" content="这是智能交易的文档站点。">
    <meta name="keywords" content="MQL,EA,智能交易,自动交易,量化,编程,培训">
    
    <link rel="preload" href="/mql5yao/assets/css/0.styles.c167a2d0.css" as="style"><link rel="preload" href="/mql5yao/assets/js/app.33d9106b.js" as="script"><link rel="preload" href="/mql5yao/assets/js/3.64586e1a.js" as="script"><link rel="preload" href="/mql5yao/assets/js/46.240ea5cd.js" as="script"><link rel="prefetch" href="/mql5yao/assets/js/10.f243be4a.js"><link rel="prefetch" href="/mql5yao/assets/js/11.e4fc3b61.js"><link rel="prefetch" href="/mql5yao/assets/js/12.d2b71f90.js"><link rel="prefetch" href="/mql5yao/assets/js/13.d47c9e61.js"><link rel="prefetch" href="/mql5yao/assets/js/14.59ded2e6.js"><link rel="prefetch" href="/mql5yao/assets/js/15.f2836d3d.js"><link rel="prefetch" href="/mql5yao/assets/js/16.fc4e3f11.js"><link rel="prefetch" href="/mql5yao/assets/js/17.069370d9.js"><link rel="prefetch" href="/mql5yao/assets/js/18.e47908ca.js"><link rel="prefetch" href="/mql5yao/assets/js/19.4e8a369f.js"><link rel="prefetch" href="/mql5yao/assets/js/2.7a050c47.js"><link rel="prefetch" href="/mql5yao/assets/js/20.37e31658.js"><link rel="prefetch" href="/mql5yao/assets/js/21.30dc9524.js"><link rel="prefetch" href="/mql5yao/assets/js/22.bb650486.js"><link rel="prefetch" href="/mql5yao/assets/js/23.84e246fd.js"><link rel="prefetch" href="/mql5yao/assets/js/24.3b441f03.js"><link rel="prefetch" href="/mql5yao/assets/js/25.3ceb7172.js"><link rel="prefetch" href="/mql5yao/assets/js/26.ba703a82.js"><link rel="prefetch" href="/mql5yao/assets/js/27.c0597566.js"><link rel="prefetch" href="/mql5yao/assets/js/28.50413136.js"><link rel="prefetch" href="/mql5yao/assets/js/29.04da6b07.js"><link rel="prefetch" href="/mql5yao/assets/js/30.c8071067.js"><link rel="prefetch" href="/mql5yao/assets/js/31.baace808.js"><link rel="prefetch" href="/mql5yao/assets/js/32.d399c058.js"><link rel="prefetch" href="/mql5yao/assets/js/33.9b2114b8.js"><link rel="prefetch" href="/mql5yao/assets/js/34.d6f49f42.js"><link rel="prefetch" href="/mql5yao/assets/js/35.3620d83f.js"><link rel="prefetch" href="/mql5yao/assets/js/36.e26f547b.js"><link rel="prefetch" href="/mql5yao/assets/js/37.c903bf3b.js"><link rel="prefetch" href="/mql5yao/assets/js/38.2f6e699d.js"><link rel="prefetch" href="/mql5yao/assets/js/39.aca9c106.js"><link rel="prefetch" href="/mql5yao/assets/js/4.21ff370e.js"><link rel="prefetch" href="/mql5yao/assets/js/40.3eb74932.js"><link rel="prefetch" href="/mql5yao/assets/js/41.4f244c9a.js"><link rel="prefetch" href="/mql5yao/assets/js/42.892231ce.js"><link rel="prefetch" href="/mql5yao/assets/js/43.3f173f86.js"><link rel="prefetch" href="/mql5yao/assets/js/44.4e79ffd4.js"><link rel="prefetch" href="/mql5yao/assets/js/45.9e7cd13e.js"><link rel="prefetch" href="/mql5yao/assets/js/47.bc498cbd.js"><link rel="prefetch" href="/mql5yao/assets/js/48.752c3ae0.js"><link rel="prefetch" href="/mql5yao/assets/js/5.47d44717.js"><link rel="prefetch" href="/mql5yao/assets/js/6.ee422b91.js"><link rel="prefetch" href="/mql5yao/assets/js/7.b1ec5472.js"><link rel="prefetch" href="/mql5yao/assets/js/8.036d68c0.js"><link rel="prefetch" href="/mql5yao/assets/js/9.4c2d0d8b.js">
    <link rel="stylesheet" href="/mql5yao/assets/css/0.styles.c167a2d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mql5yao/" class="home-link router-link-active"><img src="/mql5yao/logo.png" alt="智能交易*姚 文档站" class="logo"> <span class="site-name can-hide">智能交易*姚 文档站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MQL5线上手册</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mql5yao/Chapter/start.html" class="sidebar-link">MQL5 参考</a></li><li><a href="/mql5yao/Chapter/one.html" class="sidebar-link">01 第一章 语言基础</a></li><li><a href="/mql5yao/Chapter/two.html" class="sidebar-link">02 第二章 标准常量，列举和架构</a></li><li><a href="/mql5yao/Chapter/three.html" class="sidebar-link">03 第三章 MQL5程序</a></li><li><a href="/mql5yao/Chapter/four.html" class="sidebar-link">04 第四章 预定义变量</a></li><li><a href="/mql5yao/Chapter/five.html" class="sidebar-link">05 第五章 普通函数</a></li><li><a href="/mql5yao/Chapter/six.html" class="sidebar-link">06 第六章 数组函数</a></li><li><a href="/mql5yao/Chapter/add1.html" class="sidebar-link">07 第add1章 矩阵和向量方法</a></li><li><a href="/mql5yao/Chapter/seven.html" class="sidebar-link">07 第七章 函数转换</a></li><li><a href="/mql5yao/Chapter/eight.html" class="sidebar-link">08 第八章 数学函数</a></li><li><a href="/mql5yao/Chapter/nine.html" class="sidebar-link">09 第九章 字符串函数</a></li><li><a href="/mql5yao/Chapter/ten.html" class="sidebar-link">10 第十章 日期和时间</a></li><li><a href="/mql5yao/Chapter/eleven.html" class="sidebar-link">11 第十一章 账户信息</a></li><li><a href="/mql5yao/Chapter/twelve.html" class="sidebar-link">12 第十二章 检测</a></li><li><a href="/mql5yao/Chapter/thirteen.html" class="sidebar-link">13 第十三章 事件处理</a></li><li><a href="/mql5yao/Chapter/fourteen.html" class="sidebar-link">14 第十四章 市场信息</a></li><li><a href="/mql5yao/Chapter/fifteen.html" class="sidebar-link">15 第十五章 经济日历函数</a></li><li><a href="/mql5yao/Chapter/sixteen.html" class="sidebar-link">16 第十六章 时间序列和指标访问</a></li><li><a href="/mql5yao/Chapter/seventeen.html" class="sidebar-link">17 第十七章 自定义交易品种</a></li><li><a href="/mql5yao/Chapter/eighteen.html" class="sidebar-link">18 第十八章 图表操作</a></li><li><a href="/mql5yao/Chapter/ninteen.html" class="sidebar-link">19 第十九章 交易函数</a></li><li><a href="/mql5yao/Chapter/twenty.html" class="sidebar-link">20 第二十章 交易信号</a></li><li><a href="/mql5yao/Chapter/twentyone.html" class="sidebar-link">21 第二十一章 网络函数</a></li><li><a href="/mql5yao/Chapter/twentytwo.html" aria-current="page" class="active sidebar-link">22 第二十二章 程序端全局变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-1-globalvariablecheck" class="sidebar-link">22.1 GlobalVariableCheck</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-2-globalvariabletime" class="sidebar-link">22.2 GlobalVariableTime()</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-3-globalvariabledel" class="sidebar-link">22.3 GlobalVariableDel</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-4-globalvariableget" class="sidebar-link">22.4 GlobalVariableGet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-5-globalvariablename" class="sidebar-link">22.5 GlobalVariableName</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-6-globalvariableset" class="sidebar-link">22.6 GlobalVariableSet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-7-globalvariablesflush" class="sidebar-link">22.7 GlobalVariablesFlush</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-8-globalvariabletemp" class="sidebar-link">22.8 GlobalVariableTemp</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-9-globalvariablesetoncondition" class="sidebar-link">22.9 GlobalVariableSetOnCondition</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-10-globalvariablesdeleteall" class="sidebar-link">22.10 GlobalVariablesDeleteAll</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/twentytwo.html#_22-11-globalvariablestotal" class="sidebar-link">22.11 GlobalVariablesTotal</a></li></ul></li><li><a href="/mql5yao/Chapter/twentythree.html" class="sidebar-link">23 第二十三章 文件函数</a></li><li><a href="/mql5yao/Chapter/twentyfour.html" class="sidebar-link">24 第二十四章 自定义指标</a></li><li><a href="/mql5yao/Chapter/twentyfive.html" class="sidebar-link">25 第二十五章 物件函数</a></li><li><a href="/mql5yao/Chapter/twentysix.html" class="sidebar-link">26 第二十六章 技术指标</a></li><li><a href="/mql5yao/Chapter/twentyseven.html" class="sidebar-link">27 第二十七章 处理优化结果</a></li><li><a href="/mql5yao/Chapter/twentyeight.html" class="sidebar-link">28 第二十八章 工作事件</a></li><li><a href="/mql5yao/Chapter/twentynine.html" class="sidebar-link">29 第二十九章 使用OpenCL工作</a></li><li><a href="/mql5yao/Chapter/thirty.html" class="sidebar-link">30 第三十章 使用数据库</a></li><li><a href="/mql5yao/Chapter/thirtyone.html" class="sidebar-link">31 第三十一章 使用DirectX</a></li><li><a href="/mql5yao/Chapter/thirtytwo.html" class="sidebar-link">32 第三十二章 集成</a></li><li><a href="/mql5yao/Chapter/add2.html" class="sidebar-link">32 第add2章 ONNX模型</a></li><li><a href="/mql5yao/Chapter/thirtythree.html" class="sidebar-link">33 第三十三章 标准程序库</a></li><li><a href="/mql5yao/Chapter/AppendixI.html" class="sidebar-link">34 附录一 来自MQL4</a></li><li><a href="/mql5yao/Chapter/AppendixII.html" class="sidebar-link">35 附录二 MQL5 函数列表</a></li><li><a href="/mql5yao/Chapter/AppendixIII.html" class="sidebar-link">36 附录三 MQL5常量列表</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2>  第二十二章  程序端全局变量</h2> <p>这是一组用于处理全局变量的函数。</p> <p>不要把 客户端的全局变量 与 MQL5程序中声明的全局范围的变量 相混淆。</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。对全局变量的访问不仅可以设置新值，而且还读取全局变量值。</p> <p>客户端的全局变量可以从客户端启动的所有MQL5程序同时访问。</p> <table><thead><tr><th>函数</th> <th>功能</th></tr></thead> <tbody><tr><td>GlobalVariableCheck</td> <td>检测指定名称的全局变量是否存在</td></tr> <tr><td>GlobalVariableTime</td> <td>返回上次访问全局变量的时间</td></tr> <tr><td>GlobalVariableDel</td> <td>删除全局变量</td></tr> <tr><td>GlobalVariableGet</td> <td>返回全局变量值</td></tr> <tr><td>GlobalVariableName</td> <td>按全局变量列表中的索引序号返回全局变量的名称</td></tr> <tr><td>GlobalVariableSet</td> <td>为全局变量设置新值</td></tr> <tr><td>GlobalVariablesFlush</td> <td>强制保存全局变量的内容到磁盘中</td></tr> <tr><td>GlobalVariableTemp</td> <td>为仅存在于当前客户端会话中的全局变量设置新值</td></tr> <tr><td>GlobalVariableSetOnCondition</td> <td>根据状态为现存全局变量的设置新值</td></tr> <tr><td>GlobalVariablesDeleteAll</td> <td>删除指定前缀的全局变量</td></tr> <tr><td>GlobalVariablesTotal</td> <td>返回全局变量总数量</td></tr></tbody></table> <h2 id="_22-1-globalvariablecheck"><a href="#_22-1-globalvariablecheck" class="header-anchor">#</a> 22.1 GlobalVariableCheck</h2> <p>检测指定名称的全局变量是否存在。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">GlobalVariableCheck</span><span class="token punctuation">(</span> 
   string  name      <span class="token comment">// 全局变量名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 全局变量名称</p> <p>返回值</p> <p>如果全局变量存在，返回TRUE值，否则返回false值。</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <p>相关参考</p> <h2 id="_22-2-globalvariabletime"><a href="#_22-2-globalvariabletime" class="header-anchor">#</a> 22.2 GlobalVariableTime()</h2> <p>返回上次访问全局变量的时间。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>datetime  <span class="token function">GlobalVariableTime</span><span class="token punctuation">(</span> 
   string  name      <span class="token comment">// 名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 全局变量名称。</p> <p>返回值</p> <p>函数返回上次访问的指定全局变量，调用变量获得值也需要考虑是否访问，要想获取有关错误的更详细信息，可以调用GetLastError()函数。</p> <p>注意</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <p>相关参考</p> <p>GlobalVariableCheck()</p> <h2 id="_22-3-globalvariabledel"><a href="#_22-3-globalvariabledel" class="header-anchor">#</a> 22.3 GlobalVariableDel</h2> <p>从客户端中删除全局变量。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">GlobalVariableDel</span><span class="token punctuation">(</span> 
   string  name      <span class="token comment">// 全局变量名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 全局变量名称。</p> <p>返回值</p> <p>如果成功，函数返回TRUE值，否则返回FALSE值。要想获取有关错误的更详细信息，可以调用GetLastError()函数。</p> <p>注意</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <h2 id="_22-4-globalvariableget"><a href="#_22-4-globalvariableget" class="header-anchor">#</a> 22.4 GlobalVariableGet</h2> <p>返回客户端存在的全局变量的值，此函数有2个变体可以使用。</p> <ol><li>直接返回全局变量值。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">double</span>  <span class="token function">GlobalVariableGet</span><span class="token punctuation">(</span> 
   string  name      <span class="token comment">// 全局变量名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>返回TRUE值或者 false值取决于函数是否成功运行。如果成功，客户端全局变量将传递到第二个形式参数中。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">GlobalVariableGet</span><span class="token punctuation">(</span> 
   string  name<span class="token punctuation">,</span>              <span class="token comment">// 全局变量名称 </span>
   <span class="token keyword">double</span><span class="token operator">&amp;</span> double_var         <span class="token comment">//该变量包括全局变量值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 全局变量名称。</p> <p>double_var</p> <p>[out] 双精度函数的变量，用于接收存储在客户端的全局变量的值。</p> <p>返回值</p> <p>存在的全局变量值或者发生 错误(error)时返回0，要想获取有关错误的更详细信息，可以调用GetLastError()函数。</p> <p>注意</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <h2 id="_22-5-globalvariablename"><a href="#_22-5-globalvariablename" class="header-anchor">#</a> 22.5 GlobalVariableName</h2> <p>通过索引序号返回全局变量名称。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string  <span class="token function">GlobalVariableName</span><span class="token punctuation">(</span> 
   <span class="token keyword">int</span>  index      <span class="token comment">// 全局变量列表中全局变量数 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>index</p> <p>[in] 全局变量列表中的索引序号，应该大于或等于0，小于 GlobalVariablesTotal()函数的返回值。</p> <p>返回值</p> <p>全局变量的名称通过索引序号在全局变量列表中体现出来，要想获取有关错误的更详细信息，可以调用GetLastError()函数。</p> <p>注意</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <h2 id="_22-6-globalvariableset"><a href="#_22-6-globalvariableset" class="header-anchor">#</a> 22.6 GlobalVariableSet</h2> <p>为全局变量设置新值，如果变量不存在，系统会添加一个新的全局变量。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>datetime  <span class="token function">GlobalVariableSet</span><span class="token punctuation">(</span> 
   string  name<span class="token punctuation">,</span>      <span class="token comment">// 全局变量名称 </span>
   <span class="token keyword">double</span>  value      <span class="token comment">// 设置值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 全局变量名称。</p> <p>value</p> <p>[in] 新数值。</p> <p>返回值</p> <p>如果成功，函数返回上一修正时间，否则返回0，要想获取有关错误的更详细信息，可以调用GetLastError()函数。</p> <p>注意</p> <p>全局变量名称不应超过63个字符。自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <h2 id="_22-7-globalvariablesflush"><a href="#_22-7-globalvariablesflush" class="header-anchor">#</a> 22.7 GlobalVariablesFlush</h2> <p>强制保存全局变量的内容到磁盘中</p> <p><code>void GlobalVariablesFlush();</code>
返回值</p> <p>无返回值。</p> <p>注意</p> <p>客户端会在工作结束时写入所有全局变量到磁盘中，但在突然的计算机操作失败时(如，死机、断电)，数据可能丢失。该函数允许在出现意外时独立控制保存全局变量的过程。</p> <h2 id="_22-8-globalvariabletemp"><a href="#_22-8-globalvariabletemp" class="header-anchor">#</a> 22.8 GlobalVariableTemp</h2> <p>函数试图创建一个临时的全局变量，如果变量不存在，系统会添加一个新的临时全局变量。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">GlobalVariableTemp</span><span class="token punctuation">(</span> 
   string  name      <span class="token comment">// 全局变量名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 临时全局变量名称。</p> <p>返回值</p> <p>如果成功，函数返回true值，否则是 false 值，要想获取有关错误的更详细信息，可以调用GetLastError()函数。。</p> <p>注意</p> <p>临时的全局变量只在客户端运行时存在，在客户端停止工作时会自动删除。执行函数GlobalVariablesFlush() 时，临时全局变量不会写入到磁盘里。</p> <p>建立临时全局变量以后，可以像客户端全局变量一样访问并修改。</p> <h2 id="_22-9-globalvariablesetoncondition"><a href="#_22-9-globalvariablesetoncondition" class="header-anchor">#</a> 22.9 GlobalVariableSetOnCondition</h2> <p>根据状态为现存全局变量的设置新值。如果当前值等于第三个形式参数check_value，则设置现有全局变量的新值。如果没有全局变量，该函数将生成错误ERR_GLOBALVARIABLE_NOT_FOUND(4501)，并返回false。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">GlobalVariableSetOnCondition</span><span class="token punctuation">(</span> 
   string  name<span class="token punctuation">,</span>            <span class="token comment">// 全局变量名称 </span>
   <span class="token keyword">double</span>  value<span class="token punctuation">,</span>           <span class="token comment">// 条件是true下的变量新值 </span>
   <span class="token keyword">double</span>  check_value      <span class="token comment">// 检测值的状态 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>name</p> <p>[in] 全局变量名称。</p> <p>value</p> <p>[in] 新值。</p> <p>check_value</p> <p>[in] 检测当前全局变量值。</p> <p>返回值</p> <p>如果成功，函数返回true值，否则返回false值。要想获取有关错误的更详细信息，可以调用GetLastError()函数。如果当前全局变量值不同于check_value，函数返回false。</p> <p>注意</p> <p>函数将为全局变量提供自动通道，所以它可以提供一个信号量在同一个客户终端内同时被几个EA调用。</p> <h2 id="_22-10-globalvariablesdeleteall"><a href="#_22-10-globalvariablesdeleteall" class="header-anchor">#</a> 22.10 GlobalVariablesDeleteAll</h2> <p>删除客户端的全局变量。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">GlobalVariablesDeleteAll</span><span class="token punctuation">(</span> 
   string     prefix_name<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">,</span>     <span class="token comment">// 所有带有前缀的全局变量 </span>
   datetime   limit_data<span class="token operator">=</span><span class="token number">0</span>          <span class="token comment">// 所有该日期前已更改的全局变量 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>prefix_name=NULL</p> <p>[in] 将被删除的全局变量的命名前缀。如果指定前缀是NULL或者空字符串，所有满足数据标准的变量都会被删除。</p> <p>limit_data=0</p> <p>[in] 通过上次修正时间来选择全局变量，函数删除在此日期之前改变的全局变量，如果将此参数设为0，则表示忽悠这个条件，意即所有满足第一个标准(前缀)的全局变量都会被删除。</p> <p>返回值</p> <p>删除变量数量。</p> <p>注意</p> <p>如果每个选项都设置为0 (prefix_name = NULL 并且 limit_data = 0), 则此函数将删除终端所有的全局变量。如果所有的参数都是指定的，则删除与2个参数相关的全局变量。</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。</p> <h2 id="_22-11-globalvariablestotal"><a href="#_22-11-globalvariablestotal" class="header-anchor">#</a> 22.11 GlobalVariablesTotal</h2> <p>返回客户端所有全局变量的数量。
<code>int GlobalVariablesTotal();</code>
返回值</p> <p>全局变量的数量。</p> <p>注意</p> <p>自上次访问客户端开始，全局变量会保存在客户端4周的时间，然后它们将被自动删除。调用全局变量不仅需要设立新值，也需要读取全局变量的值。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mql5yao/Chapter/twentyone.html" class="prev">
        21 第二十一章 网络函数
      </a></span> <span class="next"><a href="/mql5yao/Chapter/twentythree.html">
        23 第二十三章 文件函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/mql5yao/assets/js/app.33d9106b.js" defer></script><script src="/mql5yao/assets/js/3.64586e1a.js" defer></script><script src="/mql5yao/assets/js/46.240ea5cd.js" defer></script>
  </body>
</html>
