<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能交易*姚 文档站</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/mql5yao/favicon.ico">
    <meta name="description" content="这是智能交易的文档站点。">
    <meta name="keywords" content="MQL,EA,智能交易,自动交易,量化,编程,培训">
    
    <link rel="preload" href="/mql5yao/assets/css/0.styles.7f3ae2a1.css" as="style"><link rel="preload" href="/mql5yao/assets/js/app.8a48e4d1.js" as="script"><link rel="preload" href="/mql5yao/assets/js/2.8ccfeae3.js" as="script"><link rel="preload" href="/mql5yao/assets/js/1.abd3212e.js" as="script"><link rel="preload" href="/mql5yao/assets/js/53.47314628.js" as="script"><link rel="prefetch" href="/mql5yao/assets/js/10.f43632ba.js"><link rel="prefetch" href="/mql5yao/assets/js/11.1d038644.js"><link rel="prefetch" href="/mql5yao/assets/js/12.e50722f3.js"><link rel="prefetch" href="/mql5yao/assets/js/13.bc6e6556.js"><link rel="prefetch" href="/mql5yao/assets/js/14.5cb8131f.js"><link rel="prefetch" href="/mql5yao/assets/js/15.bc368dfb.js"><link rel="prefetch" href="/mql5yao/assets/js/16.60e872ed.js"><link rel="prefetch" href="/mql5yao/assets/js/17.15a8a4c2.js"><link rel="prefetch" href="/mql5yao/assets/js/18.a3079194.js"><link rel="prefetch" href="/mql5yao/assets/js/19.2e53fae9.js"><link rel="prefetch" href="/mql5yao/assets/js/20.ff88a6ab.js"><link rel="prefetch" href="/mql5yao/assets/js/21.24994246.js"><link rel="prefetch" href="/mql5yao/assets/js/22.5048fb10.js"><link rel="prefetch" href="/mql5yao/assets/js/23.b0f62895.js"><link rel="prefetch" href="/mql5yao/assets/js/24.47212fdf.js"><link rel="prefetch" href="/mql5yao/assets/js/25.31655e4d.js"><link rel="prefetch" href="/mql5yao/assets/js/26.eaeeac1b.js"><link rel="prefetch" href="/mql5yao/assets/js/27.62ad36df.js"><link rel="prefetch" href="/mql5yao/assets/js/28.69609490.js"><link rel="prefetch" href="/mql5yao/assets/js/29.bd4055a1.js"><link rel="prefetch" href="/mql5yao/assets/js/3.0ebc6d24.js"><link rel="prefetch" href="/mql5yao/assets/js/30.f43e33e8.js"><link rel="prefetch" href="/mql5yao/assets/js/31.08aac79a.js"><link rel="prefetch" href="/mql5yao/assets/js/32.e40034cb.js"><link rel="prefetch" href="/mql5yao/assets/js/33.f14c86ef.js"><link rel="prefetch" href="/mql5yao/assets/js/34.35c02b74.js"><link rel="prefetch" href="/mql5yao/assets/js/35.048a5906.js"><link rel="prefetch" href="/mql5yao/assets/js/36.7be7df03.js"><link rel="prefetch" href="/mql5yao/assets/js/37.caf30399.js"><link rel="prefetch" href="/mql5yao/assets/js/38.7081ef66.js"><link rel="prefetch" href="/mql5yao/assets/js/39.8b16de3c.js"><link rel="prefetch" href="/mql5yao/assets/js/4.64cdca5a.js"><link rel="prefetch" href="/mql5yao/assets/js/40.c4bcc68d.js"><link rel="prefetch" href="/mql5yao/assets/js/41.9e814ceb.js"><link rel="prefetch" href="/mql5yao/assets/js/42.626ed300.js"><link rel="prefetch" href="/mql5yao/assets/js/43.9e56dbd2.js"><link rel="prefetch" href="/mql5yao/assets/js/44.b0aa6080.js"><link rel="prefetch" href="/mql5yao/assets/js/45.1ee1c2de.js"><link rel="prefetch" href="/mql5yao/assets/js/46.c7e60312.js"><link rel="prefetch" href="/mql5yao/assets/js/47.294d2506.js"><link rel="prefetch" href="/mql5yao/assets/js/48.9896cb6c.js"><link rel="prefetch" href="/mql5yao/assets/js/49.0b669611.js"><link rel="prefetch" href="/mql5yao/assets/js/5.6e0bc11f.js"><link rel="prefetch" href="/mql5yao/assets/js/50.d4317362.js"><link rel="prefetch" href="/mql5yao/assets/js/51.7cde1a30.js"><link rel="prefetch" href="/mql5yao/assets/js/52.593fbf2b.js"><link rel="prefetch" href="/mql5yao/assets/js/54.9177a36c.js"><link rel="prefetch" href="/mql5yao/assets/js/55.890a40de.js"><link rel="prefetch" href="/mql5yao/assets/js/56.950e221a.js"><link rel="prefetch" href="/mql5yao/assets/js/57.42541ac8.js"><link rel="prefetch" href="/mql5yao/assets/js/58.b782ed1e.js"><link rel="prefetch" href="/mql5yao/assets/js/59.0f7a8fa5.js"><link rel="prefetch" href="/mql5yao/assets/js/6.30ab1089.js"><link rel="prefetch" href="/mql5yao/assets/js/60.bb949f49.js"><link rel="prefetch" href="/mql5yao/assets/js/61.fb831bab.js"><link rel="prefetch" href="/mql5yao/assets/js/62.1d11fcd0.js"><link rel="prefetch" href="/mql5yao/assets/js/63.5e21940a.js"><link rel="prefetch" href="/mql5yao/assets/js/7.7481afc6.js"><link rel="prefetch" href="/mql5yao/assets/js/vendors~docsearch.b8e67d2d.js">
    <link rel="stylesheet" href="/mql5yao/assets/css/0.styles.7f3ae2a1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mql5yao/" class="home-link router-link-active"><img src="/mql5yao/logo.png" alt="智能交易*姚 文档站" class="logo"> <span class="site-name can-hide">智能交易*姚 文档站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MQL5线上手册</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mql5yao/Chapter/start.html" class="sidebar-link">MQL5 参考</a></li><li><a href="/mql5yao/Chapter/one.html" class="sidebar-link">01 第一章 语言基础</a></li><li><a href="/mql5yao/Chapter/two.html" class="sidebar-link">02 第二章 标准常量，列举和架构</a></li><li><a href="/mql5yao/Chapter/three.html" class="sidebar-link">03 第三章 MQL5程序</a></li><li><a href="/mql5yao/Chapter/four.html" class="sidebar-link">04 第四章 预定义变量</a></li><li><a href="/mql5yao/Chapter/five.html" class="sidebar-link">05 第五章 普通函数</a></li><li><a href="/mql5yao/Chapter/six.html" class="sidebar-link">06 第六章 数组函数</a></li><li><a href="/mql5yao/Chapter/add1.html" class="sidebar-link">07 第七章 矩阵和向量方法</a></li><li><a href="/mql5yao/Chapter/seven.html" class="sidebar-link">08 第八章 函数转换</a></li><li><a href="/mql5yao/Chapter/eight.html" class="sidebar-link">09 第九章 数学函数</a></li><li><a href="/mql5yao/Chapter/nine.html" class="sidebar-link">10 第十章 字符串函数</a></li><li><a href="/mql5yao/Chapter/ten.html" class="sidebar-link">11 第十一章 日期和时间</a></li><li><a href="/mql5yao/Chapter/eleven.html" class="sidebar-link">12 第十二章 账户信息</a></li><li><a href="/mql5yao/Chapter/twelve.html" class="sidebar-link">13 第十三章 检测</a></li><li><a href="/mql5yao/Chapter/thirteen.html" class="sidebar-link">14 第十四章 事件处理</a></li><li><a href="/mql5yao/Chapter/fourteen.html" class="sidebar-link">15 第十五章 市场信息</a></li><li><a href="/mql5yao/Chapter/fifteen.html" class="sidebar-link">16 第十六章 经济日历函数</a></li><li><a href="/mql5yao/Chapter/sixteen.html" class="sidebar-link">17 第十七章 时间序列和指标访问</a></li><li><a href="/mql5yao/Chapter/seventeen.html" class="sidebar-link">18 第十八章 自定义交易品种</a></li><li><a href="/mql5yao/Chapter/eighteen.html" class="sidebar-link">19 第十九章 图表操作</a></li><li><a href="/mql5yao/Chapter/ninteen.html" class="sidebar-link">20 第二十章 交易函数</a></li><li><a href="/mql5yao/Chapter/twenty.html" class="sidebar-link">21 第廿一章 交易信号</a></li><li><a href="/mql5yao/Chapter/twentyone.html" class="sidebar-link">22 第廿二章 网络函数</a></li><li><a href="/mql5yao/Chapter/twentytwo.html" class="sidebar-link">23 第廿三章 程序端全局变量</a></li><li><a href="/mql5yao/Chapter/twentythree.html" class="sidebar-link">24 第廿四章 文件函数</a></li><li><a href="/mql5yao/Chapter/twentyfour.html" class="sidebar-link">25 第廿五章 自定义指标</a></li><li><a href="/mql5yao/Chapter/twentyfive.html" class="sidebar-link">26 第廿六章 物件函数</a></li><li><a href="/mql5yao/Chapter/twentysix.html" class="sidebar-link">27 第廿七章 技术指标</a></li><li><a href="/mql5yao/Chapter/twentyseven.html" class="sidebar-link">28 第甘八章 处理优化结果</a></li><li><a href="/mql5yao/Chapter/twentyeight.html" class="sidebar-link">29 第廿九章 工作事件</a></li><li><a href="/mql5yao/Chapter/twentynine.html" class="sidebar-link">30 第三十章 使用OpenCL工作</a></li><li><a href="/mql5yao/Chapter/thirty.html" class="sidebar-link">31 第卅一章 使用数据库</a></li><li><a href="/mql5yao/Chapter/thirtyone.html" aria-current="page" class="active sidebar-link">32 第卅二章 使用DirectX</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-1-dxcontextcreate" class="sidebar-link">31.1 DXContextCreate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-2-dxcontextsetsize" class="sidebar-link">31.2 DXContextSetSize</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-3-dxcontextgetsize" class="sidebar-link">31.3 DXContextGetSize</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-4-dxcontextclearcolors" class="sidebar-link">31.4 DXContextClearColors</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-5-dxcontextcleardepth" class="sidebar-link">31.5 DXContextClearDepth</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-6-dxcontextgetcolors" class="sidebar-link">31.6 DXContextGetColors</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-7-dxcontextgetdepth" class="sidebar-link">31.7 DXContextGetDepth</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-8-dxbuffercreate" class="sidebar-link">31.8 DXBufferCreate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-9-dxtexturecreate" class="sidebar-link">31.9 DXTextureCreate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-10-dxinputcreate" class="sidebar-link">31.10 DXInputCreate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-11-dxinputset" class="sidebar-link">31.11 DXInputSet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-12-dxshadercreate" class="sidebar-link">31.12 DXShaderCreate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-13-dxshadersetlayout" class="sidebar-link">31.13 DXShaderSetLayout</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-14-dxshaderinputsset" class="sidebar-link">31.14 DXShaderInputsSet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-15-dxshadertexturesset" class="sidebar-link">31.15 DXShaderTexturesSet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-16-dxdraw" class="sidebar-link">31.16 DXDraw</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-17-dxdrawindexed" class="sidebar-link">31.17 DXDrawIndexed</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-18-dxprimivetopologyset" class="sidebar-link">31.18 DXPrimiveTopologySet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-19-dxbufferset" class="sidebar-link">31.19 DXBufferSet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-20-dxshaderset" class="sidebar-link">31.20  DXShaderSet</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-21-dxhandletype" class="sidebar-link">31.21 DXHandleType</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/thirtyone.html#_31-22-dxrelease" class="sidebar-link">31.22 DXRelease</a></li></ul></li><li><a href="/mql5yao/Chapter/thirtytwo.html" class="sidebar-link">33 第卅三章 MetaTrader与Python集成的模块</a></li><li><a href="/mql5yao/Chapter/add2.html" class="sidebar-link">34 第卅四章 ONNX模型</a></li><li><a href="/mql5yao/Chapter/thirtythree.html" class="sidebar-link">35 第卅五章 标准程序库</a></li><li><a href="/mql5yao/Chapter/AppendixI.html" class="sidebar-link">36 附录一 来自MQL4</a></li><li><a href="/mql5yao/Chapter/AppendixII.html" class="sidebar-link">37 附录二 MQL5 函数列表</a></li><li><a href="/mql5yao/Chapter/AppendixIII.html" class="sidebar-link">38 附录三 MQL5常量列表</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2>第三十一章 使用DirectX</h2> <p>DirectX 11功能和着色器旨在直接在价格图表上实现3D可视化。</p> <p>创建3D图形需要一个具有所需图像大小的图形环境(DXContextCreate)。此外，还需要准备顶点和索引缓冲区(DXBufferCreate)，以及创建顶点和像素着色器(DXShaderCreate)。这足以显示彩色图形。</p> <p>下一级图形需要输入(DXInputSet)以将其他渲染参数传递到着色器。这可以设置相机和3D对象的位置、描述光源并实现鼠标和键盘控制。</p> <p>因此，内置的MQL5函数可以使您在MetaTrader 5中直接创建动画3D图表，无需第三方工具。显卡应支持DX 11和Shader Model 5.0，以便使函数正常工作。</p> <p>若要开始使用该函数库，只需阅读文章如何在MetaTrader 5中使用DirectX创建3D图形。</p> <table><thead><tr><th>函数</th> <th>功能</th></tr></thead> <tbody><tr><td>DXContextCreate</td> <td>创建图形环境，以渲染指定大小的画帧</td></tr> <tr><td>DXContextSetSize</td> <td>更改在DXContextCreate()中创建的图形环境的画帧大小</td></tr> <tr><td>DXContextGetSize</td> <td>获取在DXContextCreate()中创建的图形环境的画帧大小</td></tr> <tr><td>DXContextClearColors</td> <td>为渲染缓冲区的所有像素设置指定的颜色</td></tr> <tr><td>DXContextClearDepth</td> <td>清除深度缓冲区</td></tr> <tr><td>DXContextGetColors</td> <td>从图形环境获取具有指定大小和偏移量的图像</td></tr> <tr><td>DXContextGetDepth</td> <td>获取渲染画帧的深度缓冲区</td></tr> <tr><td>DXBufferCreate</td> <td>根据数据数组创建指定类型的缓冲区</td></tr> <tr><td>DXTextureCreate</td> <td>从传递图像中剪切的指定大小的矩形中创建2D结构</td></tr> <tr><td>DXInputCreate</td> <td>创建着色器输入</td></tr> <tr><td>DXInputSet</td> <td>设置着色器输入</td></tr> <tr><td>DXShaderCreate</td> <td>创建指定类型的着色器</td></tr> <tr><td>DXShaderSetLayout</td> <td>设置顶点着色器的顶点布局</td></tr> <tr><td>DXShaderInputsSet</td> <td>设置着色器输入</td></tr> <tr><td>DXShaderTexturesSet</td> <td>设置着色器结构</td></tr> <tr><td>DXDraw</td> <td>渲染在DXBufferSet()中设置的顶点缓冲区的顶点</td></tr> <tr><td>DXDrawIndexed</td> <td>渲染由DXBufferSet()的索引缓冲区描述的图形原语</td></tr> <tr><td>DXPrimiveTopologySet</td> <td>设置使用DXDrawIndexed()渲染的原语类型</td></tr> <tr><td>DXBufferSet</td> <td>设置当前渲染的缓冲区</td></tr> <tr><td>DXShaderSet</td> <td>设置渲染的着色器</td></tr> <tr><td>DXHandleType</td> <td>返回句柄类型</td></tr> <tr><td>DXRelease</td> <td>释放句柄</td></tr></tbody></table> <h2 id="_31-1-dxcontextcreate"><a href="#_31-1-dxcontextcreate" class="header-anchor">#</a> 31.1 DXContextCreate</h2> <p>创建图形环境，以渲染指定大小的画帧。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">DXContextCreate</span><span class="token punctuation">(</span>
   uint  width<span class="token punctuation">,</span>      <span class="token comment">// 像素宽度</span>
   uint  height      <span class="token comment">// 像素高度</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>width</p> <p>[in]  画帧宽度（以像素为单位）。</p> <p>height</p> <p>[in]  画帧高度（以像素为单位）。</p> <p>返回值</p> <p>在出现错误时，用于创建环境或者INVALID_HANDLE的句柄。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>使用DXBufferCreate、DXInputCreate、 DXShaderCreate和 DXTextureCreate函数创建的所有图形对象只可用在其创建的图形环境中。</p> <p>随后可将画帧大小更改为DXContextSetSize()。</p> <p>创建的不再使用的句柄应该由DXRelease()函数明确释放。</p> <h2 id="_31-2-dxcontextsetsize"><a href="#_31-2-dxcontextsetsize" class="header-anchor">#</a> 31.2 DXContextSetSize</h2> <p>更改在DXContextCreate()中创建的图形环境的画帧大小。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXContextSetSize</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>    context<span class="token punctuation">,</span>      <span class="token comment">// 图形环境句柄   </span>
   uint<span class="token operator">&amp;</span>  width<span class="token punctuation">,</span>        <span class="token comment">// 像素宽度   </span>
   uint<span class="token operator">&amp;</span>  height        <span class="token comment">// 像素高度   </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>width</p> <p>[in]  画帧宽度（以像素为单位）。</p> <p>height</p> <p>[in]  画帧高度（以像素为单位）。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>图像环境的画帧大小应该只能在画帧渲染之间改变。</p> <h2 id="_31-3-dxcontextgetsize"><a href="#_31-3-dxcontextgetsize" class="header-anchor">#</a> 31.3 DXContextGetSize</h2> <p>获取在DXContextCreate()中创建的图形环境的画帧大小。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXContextGetSize</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>    context<span class="token punctuation">,</span>      <span class="token comment">// 图形环境句柄   </span>
   uint<span class="token operator">&amp;</span>  width<span class="token punctuation">,</span>        <span class="token comment">// 像素宽度 </span>
   uint<span class="token operator">&amp;</span>  height        <span class="token comment">// 像素高度 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>width</p> <p>[out]  画帧宽度（以像素为单位）。</p> <p>height</p> <p>[out]  画帧高度（以像素为单位）。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数</p> <h2 id="_31-4-dxcontextclearcolors"><a href="#_31-4-dxcontextclearcolors" class="header-anchor">#</a> 31.4 DXContextClearColors</h2> <p>为渲染缓冲区的所有像素设置指定的颜色。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXContextClearColors</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>              context<span class="token punctuation">,</span>      <span class="token comment">// 图形环境句柄</span>
   <span class="token keyword">const</span> DXVector<span class="token operator">&amp;</span>  color         <span class="token comment">// 颜色</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>color</p> <p>[in]  渲染颜色。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>渲染下一个画帧之前，可以使用DXContextClearColors()函数来清除颜色缓冲区。</p> <h2 id="_31-5-dxcontextcleardepth"><a href="#_31-5-dxcontextcleardepth" class="header-anchor">#</a> 31.5 DXContextClearDepth</h2> <p>清除深度缓冲区。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXContextClearDepth</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>  context      <span class="token comment">// 图形环境句柄 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>渲染下一个画帧之前，可以使用DXContextClearDepth()函数来清除深度缓冲区。</p> <h2 id="_31-6-dxcontextgetcolors"><a href="#_31-6-dxcontextgetcolors" class="header-anchor">#</a> 31.6 DXContextGetColors</h2> <p>从图形环境获取具有指定大小和偏移量的图像。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXContextGetColors</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>    context<span class="token punctuation">,</span>                      <span class="token comment">// 图形环境句柄  </span>
   uint<span class="token operator">&amp;</span>  image<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                      <span class="token comment">// 图像像素数组 </span>
   <span class="token keyword">int</span>    image_width<span class="token operator">=</span>WHOLE_ARRAY<span class="token punctuation">,</span>      <span class="token comment">// 图像宽度（以像素为单位）</span>
   <span class="token keyword">int</span>    image_height<span class="token operator">=</span>WHOLE_ARRAY<span class="token punctuation">,</span>     <span class="token comment">// 图像高度（以像素为单位）</span>
   <span class="token keyword">int</span>    image_offset_x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>             <span class="token comment">// X偏移量</span>
   <span class="token keyword">int</span>    image_offset_y<span class="token operator">=</span><span class="token number">0</span>              <span class="token comment">// Y偏移量</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>image</p> <p>[out] image_width*image_height像素数组（以ARGB格式）。</p> <p>image_width=WHOLE_ARRAY</p> <p>[in]  图像宽度（以像素为单位）。</p> <p>image_height=WHOLE_ARRAY</p> <p>[in]  图像高度（以像素为单位）。</p> <p>image_offset_x=0</p> <p>[in]  X 偏移量。</p> <p>image_offset_y=0</p> <p>[in]  Y偏移量。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <h2 id="_31-7-dxcontextgetdepth"><a href="#_31-7-dxcontextgetdepth" class="header-anchor">#</a> 31.7 DXContextGetDepth</h2> <p>获取渲染画帧的深度缓冲区。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXContextGetDepth</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>    context<span class="token punctuation">,</span>      <span class="token comment">// 图形环境句柄  </span>
   <span class="token keyword">float</span><span class="token operator">&amp;</span>  image<span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token comment">// 深度值数组 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>image</p> <p>[out]  渲染画帧深度缓冲区值的数组。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>返回的缓冲区包含能够以相对单位（从0.0到1.0）在DXContextGetColors()中获得的渲染画帧的每个像素的深度。</p> <h2 id="_31-8-dxbuffercreate"><a href="#_31-8-dxbuffercreate" class="header-anchor">#</a> 31.8 DXBufferCreate</h2> <p>根据数据数组创建指定类型的缓冲区。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">DXBufferCreate</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>                  context<span class="token punctuation">,</span>               <span class="token comment">// 图形环境句柄</span>
   ENUM_DX_BUFFER_TYPE  buffer_type<span class="token punctuation">,</span>           <span class="token comment">// 已创建缓冲区的类型</span>
   <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">&amp;</span>          data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token comment">// 缓存数据</span>
   uint                 start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>               <span class="token comment">// 初始索引</span>
   uint                 count<span class="token operator">=</span>WHOLE_ARRAY      <span class="token comment">// 元素数</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>buffer_type</p> <p>[in]  来自ENUM_DX_BUFFER_TYPE枚举的缓冲类型。</p> <p>data[]</p> <p>[in]  用于创建缓冲区的数据。</p> <p>start</p> <p>[in]  数组第一元素索引，数组值自此开始用来创建缓冲区。默认情况下，数据取自数据的开头。</p> <p>count</p> <p>[in]  值数。默认情况下，使用整个数组(count=WHOLE_ARRAY)。</p> <p>返回值</p> <p>在出现错误时，用于创建缓冲区或者INVALID_HANDLE的句柄。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>对于索引缓冲区，data[]数组应该是'uint'类型，而顶点缓冲区接收描述顶点的结构数组。</p> <p>创建的不再使用的句柄应该由DXRelease()函数明确释放。</p> <p>** ENUM_DX_BUFFER_TYPE **</p> <table><thead><tr><th>ID</th> <th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>DX_BUFFER_VERTEX</td> <td>1</td> <td>顶点缓冲区</td></tr> <tr><td>DX_BUFFER_INDEX</td> <td>2</td> <td>索引缓冲区</td></tr></tbody></table> <h2 id="_31-9-dxtexturecreate"><a href="#_31-9-dxtexturecreate" class="header-anchor">#</a> 31.9 DXTextureCreate</h2> <p>从传递图像中剪切的指定大小的矩形中创建2D结构。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">DXTextureCreate</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>             context<span class="token punctuation">,</span>         <span class="token comment">// 图形环境句柄</span>
   ENUM_DX_FORMAT  format<span class="token punctuation">,</span>          <span class="token comment">// 像素颜色格式 </span>
   uint            width<span class="token punctuation">,</span>           <span class="token comment">// 源图像宽度</span>
   uint            height<span class="token punctuation">,</span>          <span class="token comment">// 源图像高度</span>
   <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">&amp;</span>     data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token comment">// 源图像像素数组</span>
   uint            data_x<span class="token punctuation">,</span>          <span class="token comment">// 用于创建结构的矩形X坐标</span>
   uint            data_y<span class="token punctuation">,</span>          <span class="token comment">// 用于创建结构的矩形Y坐标</span>
   uint            data_width<span class="token punctuation">,</span>      <span class="token comment">// 用于创建结构的矩形宽度</span>
   uint            data_height      <span class="token comment">// 用于创建结构的矩形高度</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>format</p> <p>[in]  从ENUM_DX_FORMAT枚举设置的像素颜色格式。</p> <p>width</p> <p>[in]  结构所基于的图像宽度。</p> <p>height</p> <p>[in]  结构所基于的图像高度。</p> <p>data</p> <p>[in]  结构所基于的图像像素数组。</p> <p>data_x</p> <p>[in]  用于创建结构的矩形X坐标（X偏移量）。</p> <p>data_y</p> <p>[in]  用于创建结构的矩形Y坐标（Y偏移量）。</p> <p>data_width</p> <p>[in]  用于创建结构的矩形宽度。</p> <p>data_height</p> <p>[in]  用于创建结构的矩形高度。</p> <p>返回值</p> <p>在出现错误时的结构句柄或INVALID_HANDLE。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>创建的不再使用的句柄应该由DXRelease()函数明确释放。</p> <p>** ENUM_DX_FORMAT **
<table border="1" cellspacing="0" cellpadding="0" width="635"><tbody><tr><td valign="top"><br>
ID </td> <td width="100" valign="top"><p>值 </p></td> <td valign="top"><p>匹配DXGI_FORMAT</p></td></tr> <tr><td valign="top"><p>DX_FORMAT_UNKNOWN </p></td> <td width="100" valign="top"><p>0 </p></td> <td valign="top"><p>DXGI_FORMAT_UNKNOWN </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32A32_TYPELESS </p></td> <td width="100" valign="top"><p>1 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32A32_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32A32_FLOAT </p></td> <td width="100" valign="top"><p>2 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32A32_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32A32_UINT </p></td> <td width="100" valign="top"><p>3 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32A32_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32A32_SINT </p></td> <td width="100" valign="top"><p>4 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32A32_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32_TYPELESS </p></td> <td width="100" valign="top"><p>5 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32_FLOAT </p></td> <td width="100" valign="top"><p>6 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32_UINT </p></td> <td width="100" valign="top"><p>7 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32B32_SINT </p></td> <td width="100" valign="top"><p>8 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32B32_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16B16A16_TYPELESS </p></td> <td width="100" valign="top"><p>9 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16B16A16_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16B16A16_FLOAT </p></td> <td width="100" valign="top"><p>10 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16B16A16_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16B16A16_UNORM </p></td> <td width="100" valign="top"><p>11/ </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16B16A16_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16B16A16_UINT </p></td> <td width="100" valign="top"><p>12/ </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16B16A16_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16B16A16_SNORM </p></td> <td width="100" valign="top"><p>13 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16B16A16_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16B16A16_SINT </p></td> <td width="100" valign="top"><p>14/ </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16B16A16_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32_TYPELESS </p></td> <td width="100" valign="top"><p>15 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32_FLOAT </p></td> <td width="100" valign="top"><p>16/ </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32_UINT </p></td> <td width="100" valign="top"><p>17 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G32_SINT </p></td> <td width="100" valign="top"><p>18 </p></td> <td valign="top"><p>DXGI_FORMAT_R32G32_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32G8X24_TYPELESS </p></td> <td width="100" valign="top"><p>19/ </p></td> <td valign="top"><p>DXGI_FORMAT_R32G8X24_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_D32_FLOAT_S8X24_UINT </p></td> <td width="100" valign="top"><p>20 </p></td> <td valign="top"><p>DXGI_FORMAT_D32_FLOAT_S8X24_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32_FLOAT_X8X24_TYPELESS </p></td> <td width="100" valign="top"><p>21 </p></td> <td valign="top"><p>DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_X32_TYPELESS_G8X24_UINT </p></td> <td width="100" valign="top"><p>22 </p></td> <td valign="top"><p>DXGI_FORMAT_X32_TYPELESS_G8X24_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R10G10B10A2_TYPELESS </p></td> <td width="100" valign="top"><p>23/ </p></td> <td valign="top"><p>DXGI_FORMAT_R10G10B10A2_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R10G10B10A2_UNORM </p></td> <td width="100" valign="top"><p>24/ </p></td> <td valign="top"><p>DXGI_FORMAT_R10G10B10A2_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R10G10B10A2_UINT </p></td> <td width="100" valign="top"><p>25/ </p></td> <td valign="top"><p>DXGI_FORMAT_R10G10B10A2_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R11G11B10_FLOAT </p></td> <td width="100" valign="top"><p>26/ </p></td> <td valign="top"><p>DXGI_FORMAT_R11G11B10_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8B8A8_TYPELESS </p></td> <td width="100" valign="top"><p>27/ </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8B8A8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8B8A8_UNORM </p></td> <td width="100" valign="top"><p>28 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8B8A8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8B8A8_UNORM_SRGB </p></td> <td width="100" valign="top"><p>29 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8B8A8_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8B8A8_UINT </p></td> <td width="100" valign="top"><p>30 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8B8A8_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8B8A8_SNORM </p></td> <td width="100" valign="top"><p>31 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8B8A8_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8B8A8_SINT </p></td> <td width="100" valign="top"><p>32 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8B8A8_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16_TYPELESS </p></td> <td width="100" valign="top"><p>33 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16_FLOAT </p></td> <td width="100" valign="top"><p>34 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16_UNORM </p></td> <td width="100" valign="top"><p>35 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16_UINT </p></td> <td width="100" valign="top"><p>36 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16_SNORM </p></td> <td width="100" valign="top"><p>37 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16G16_SINT </p></td> <td width="100" valign="top"><p>38 </p></td> <td valign="top"><p>DXGI_FORMAT_R16G16_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32_TYPELESS </p></td> <td width="100" valign="top"><p>39 </p></td> <td valign="top"><p>DXGI_FORMAT_R32_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_D32_FLOAT </p></td> <td width="100" valign="top"><p>40 </p></td> <td valign="top"><p>DXGI_FORMAT_D32_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32_FLOAT </p></td> <td width="100" valign="top"><p>41 </p></td> <td valign="top"><p>DXGI_FORMAT_R32_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32_UINT </p></td> <td width="100" valign="top"><p>42 </p></td> <td valign="top"><p>DXGI_FORMAT_R32_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R32_SINT </p></td> <td width="100" valign="top"><p>43 </p></td> <td valign="top"><p>DXGI_FORMAT_R32_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R24G8_TYPELESS </p></td> <td width="100" valign="top"><p>44 </p></td> <td valign="top"><p>DXGI_FORMAT_R24G8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_D24_UNORM_S8_UINT </p></td> <td width="100" valign="top"><p>45 </p></td> <td valign="top"><p>DXGI_FORMAT_D24_UNORM_S8_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R24_UNORM_X8_TYPELESS </p></td> <td width="100" valign="top"><p>46 </p></td> <td valign="top"><p>DXGI_FORMAT_R24_UNORM_X8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_X24_TYPELESS_G8_UINT </p></td> <td width="100" valign="top"><p>47 </p></td> <td valign="top"><p>DXGI_FORMAT_X24_TYPELESS_G8_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8_TYPELESS </p></td> <td width="100" valign="top"><p>48 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8_UNORM </p></td> <td width="100" valign="top"><p>49 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8_UINT </p></td> <td width="100" valign="top"><p>50 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8_SNORM </p></td> <td width="100" valign="top"><p>51 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8_SINT </p></td> <td width="100" valign="top"><p>52 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16_TYPELESS </p></td> <td width="100" valign="top"><p>53 </p></td> <td valign="top"><p>DXGI_FORMAT_R16_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16_FLOAT </p></td> <td width="100" valign="top"><p>54 </p></td> <td valign="top"><p>DXGI_FORMAT_R16_FLOAT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_D16_UNORM </p></td> <td width="100" valign="top"><p>55 </p></td> <td valign="top"><p>DXGI_FORMAT_D16_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16_UNORM </p></td> <td width="100" valign="top"><p>56 </p></td> <td valign="top"><p>DXGI_FORMAT_R16_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16_UINT </p></td> <td width="100" valign="top"><p>57 </p></td> <td valign="top"><p>DXGI_FORMAT_R16_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16_SNORM </p></td> <td width="100" valign="top"><p>58 </p></td> <td valign="top"><p>DXGI_FORMAT_R16_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R16_SINT </p></td> <td width="100" valign="top"><p>59 </p></td> <td valign="top"><p>DXGI_FORMAT_R16_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8_TYPELESS </p></td> <td width="100" valign="top"><p>60 </p></td> <td valign="top"><p>DXGI_FORMAT_R8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8_UNORM </p></td> <td width="100" valign="top"><p>61 </p></td> <td valign="top"><p>DXGI_FORMAT_R8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8_UINT </p></td> <td width="100" valign="top"><p>62 </p></td> <td valign="top"><p>DXGI_FORMAT_R8_UINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8_SNORM </p></td> <td width="100" valign="top"><p>63 </p></td> <td valign="top"><p>DXGI_FORMAT_R8_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8_SINT </p></td> <td width="100" valign="top"><p>64 </p></td> <td valign="top"><p>DXGI_FORMAT_R8_SINT </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_A8_UNORM </p></td> <td width="100" valign="top"><p>65 </p></td> <td valign="top"><p>DXGI_FORMAT_A8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R1_UNORM </p></td> <td width="100" valign="top"><p>66 </p></td> <td valign="top"><p>DXGI_FORMAT_R1_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R9G9B9E5_SHAREDEXP </p></td> <td width="100" valign="top"><p>67 </p></td> <td valign="top"><p>DXGI_FORMAT_R9G9B9E5_SHAREDEXP </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R8G8_B8G8_UNORM </p></td> <td width="100" valign="top"><p>68 </p></td> <td valign="top"><p>DXGI_FORMAT_R8G8_B8G8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_G8R8_G8B8_UNORM </p></td> <td width="100" valign="top"><p>69 </p></td> <td valign="top"><p>DXGI_FORMAT_G8R8_G8B8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC1_TYPELESS </p></td> <td width="100" valign="top"><p>70 </p></td> <td valign="top"><p>DXGI_FORMAT_BC1_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC1_UNORM </p></td> <td width="100" valign="top"><p>71 </p></td> <td valign="top"><p>DXGI_FORMAT_BC1_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC1_UNORM_SRGB </p></td> <td width="100" valign="top"><p>72 </p></td> <td valign="top"><p>DXGI_FORMAT_BC1_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC2_TYPELESS </p></td> <td width="100" valign="top"><p>73 </p></td> <td valign="top"><p>DXGI_FORMAT_BC2_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC2_UNORM </p></td> <td width="100" valign="top"><p>74 </p></td> <td valign="top"><p>DXGI_FORMAT_BC2_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC2_UNORM_SRGB </p></td> <td width="100" valign="top"><p>75 </p></td> <td valign="top"><p>DXGI_FORMAT_BC2_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC3_TYPELESS </p></td> <td width="100" valign="top"><p>76 </p></td> <td valign="top"><p>DXGI_FORMAT_BC3_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC3_UNORM </p></td> <td width="100" valign="top"><p>77 </p></td> <td valign="top"><p>DXGI_FORMAT_BC3_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC3_UNORM_SRGB </p></td> <td width="100" valign="top"><p>78 </p></td> <td valign="top"><p>DXGI_FORMAT_BC3_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC4_TYPELESS </p></td> <td width="100" valign="top"><p>79 </p></td> <td valign="top"><p>DXGI_FORMAT_BC4_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC4_UNORM </p></td> <td width="100" valign="top"><p>80 </p></td> <td valign="top"><p>DXGI_FORMAT_BC4_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC4_SNORM </p></td> <td width="100" valign="top"><p>81 </p></td> <td valign="top"><p>DXGI_FORMAT_BC4_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC5_TYPELESS </p></td> <td width="100" valign="top"><p>82 </p></td> <td valign="top"><p>DXGI_FORMAT_BC5_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC5_UNORM </p></td> <td width="100" valign="top"><p>83 </p></td> <td valign="top"><p>DXGI_FORMAT_BC5_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC5_SNORM </p></td> <td width="100" valign="top"><p>84 </p></td> <td valign="top"><p>DXGI_FORMAT_BC5_SNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B5G6R5_UNORM </p></td> <td width="100" valign="top"><p>85 </p></td> <td valign="top"><p>DXGI_FORMAT_B5G6R5_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B5G5R5A1_UNORM </p></td> <td width="100" valign="top"><p>86 </p></td> <td valign="top"><p>DXGI_FORMAT_B5G5R5A1_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B8G8R8A8_UNORM </p></td> <td width="100" valign="top"><p>87 </p></td> <td valign="top"><p>DXGI_FORMAT_B8G8R8A8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B8G8R8X8_UNORM </p></td> <td width="100" valign="top"><p>88 </p></td> <td valign="top"><p>DXGI_FORMAT_B8G8R8X8_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_R10G10B10_XR_BIAS_A2_UNORM </p></td> <td width="100" valign="top"><p>89 </p></td> <td valign="top"><p>DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B8G8R8A8_TYPELESS </p></td> <td width="100" valign="top"><p>90 </p></td> <td valign="top"><p>DXGI_FORMAT_B8G8R8A8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B8G8R8A8_UNORM_SRGB </p></td> <td width="100" valign="top"><p>91 </p></td> <td valign="top"><p>DXGI_FORMAT_B8G8R8A8_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B8G8R8X8_TYPELESS </p></td> <td width="100" valign="top"><p>92 </p></td> <td valign="top"><p>DXGI_FORMAT_B8G8R8X8_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B8G8R8X8_UNORM_SRGB </p></td> <td width="100" valign="top"><p>93 </p></td> <td valign="top"><p>DXGI_FORMAT_B8G8R8X8_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC6H_TYPELESS </p></td> <td width="100" valign="top"><p>94 </p></td> <td valign="top"><p>DXGI_FORMAT_BC6H_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC6H_UF16 </p></td> <td width="100" valign="top"><p>95 </p></td> <td valign="top"><p>DXGI_FORMAT_BC6H_UF16 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC6H_SF16 </p></td> <td width="100" valign="top"><p>96 </p></td> <td valign="top"><p>DXGI_FORMAT_BC6H_SF16 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC7_TYPELESS </p></td> <td width="100" valign="top"><p>97 </p></td> <td valign="top"><p>DXGI_FORMAT_BC7_TYPELESS </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC7_UNORM </p></td> <td width="100" valign="top"><p>98 </p></td> <td valign="top"><p>DXGI_FORMAT_BC7_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_BC7_UNORM_SRGB </p></td> <td width="100" valign="top"><p>99 </p></td> <td valign="top"><p>DXGI_FORMAT_BC7_UNORM_SRGB </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_AYUV </p></td> <td width="100" valign="top"><p>100 </p></td> <td valign="top"><p>DXGI_FORMAT_AYUV </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_Y410 </p></td> <td width="100" valign="top"><p>101 </p></td> <td valign="top"><p>DXGI_FORMAT_Y410 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_Y416 </p></td> <td width="100" valign="top"><p>102 </p></td> <td valign="top"><p>DXGI_FORMAT_Y416 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_NV12 </p></td> <td width="100" valign="top"><p>103 </p></td> <td valign="top"><p>DXGI_FORMAT_NV12 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_P010 </p></td> <td width="100" valign="top"><p>104 </p></td> <td valign="top"><p>DXGI_FORMAT_P010 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_P016 </p></td> <td width="100" valign="top"><p>105 </p></td> <td valign="top"><p>DXGI_FORMAT_P016 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_420_OPAQUE </p></td> <td width="100" valign="top"><p>106 </p></td> <td valign="top"><p>DXGI_FORMAT_420_OPAQUE </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_YUY2 </p></td> <td width="100" valign="top"><p>107 </p></td> <td valign="top"><p>DXGI_FORMAT_YUY2 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_Y210 </p></td> <td width="100" valign="top"><p>108 </p></td> <td valign="top"><p>DXGI_FORMAT_Y210 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_Y216 </p></td> <td width="100" valign="top"><p>109 </p></td> <td valign="top"><p>DXGI_FORMAT_Y216 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_NV11 </p></td> <td width="100" valign="top"><p>110 </p></td> <td valign="top"><p>DXGI_FORMAT_NV11 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_AI44 </p></td> <td width="100" valign="top"><p>111 </p></td> <td valign="top"><p>DXGI_FORMAT_AI44 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_IA44 </p></td> <td width="100" valign="top"><p>112 </p></td> <td valign="top"><p>DXGI_FORMAT_IA44 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_P8 </p></td> <td width="100" valign="top"><p>113 </p></td> <td valign="top"><p>DXGI_FORMAT_P8 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_A8P8 </p></td> <td width="100" valign="top"><p>114 </p></td> <td valign="top"><p>DXGI_FORMAT_A8P8 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_B4G4R4A4_UNORM </p></td> <td width="100" valign="top"><p>115 </p></td> <td valign="top"><p>DXGI_FORMAT_B4G4R4A4_UNORM </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_P208 </p></td> <td width="100" valign="top"><p>130 </p></td> <td valign="top"><p>DXGI_FORMAT_P208 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_V208 </p></td> <td width="100" valign="top"><p>131 </p></td> <td valign="top"><p>DXGI_FORMAT_V208 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_V408 </p></td> <td width="100" valign="top"><p>132 </p></td> <td valign="top"><p>DXGI_FORMAT_V408 </p></td></tr> <tr><td valign="top"><p>DX_FORMAT_FORCE_UINT </p></td> <td width="100" valign="top"><p>0xffffffff </p></td> <td valign="top"><p>DXGI_FORMAT_FORCE_UINT </p></td></tr></tbody></table></p> <h2 id="_31-10-dxinputcreate"><a href="#_31-10-dxinputcreate" class="header-anchor">#</a> 31.10 DXInputCreate</h2> <p>创建着色器输入。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">DXInputCreate</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>   context<span class="token punctuation">,</span>        <span class="token comment">// 图形环境句柄</span>
   uint  input_size      <span class="token comment">// 输入大小（以字节为单位） </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>input_size</p> <p>[in]  参数结构的大小（以字节为单位）。</p> <p>返回值</p> <p>在出现错误时，用于着色器输入或者INVALID_HANDLE的句柄。若要接收错误代码，应该调用GetLastError()函数。
创建的不再使用的句柄应该由DXRelease()函数明确释放。</p> <h2 id="_31-11-dxinputset"><a href="#_31-11-dxinputset" class="header-anchor">#</a> 31.11 DXInputSet</h2> <p>设置着色器输入。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">bool</span>  <span class="token function">DXInputSet</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>          input<span class="token punctuation">,</span>      <span class="token comment">// 图形环境句柄</span>
   <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">&amp;</span>  data        <span class="token comment">// 设置数据  </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>input</p> <p>[in]  在DXInputCreate()中获得的着色器的输入句柄。</p> <p>data</p> <p>[in]  用于设置着色器输入的数据。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <h2 id="_31-12-dxshadercreate"><a href="#_31-12-dxshadercreate" class="header-anchor">#</a> 31.12 DXShaderCreate</h2> <p>创建指定类型的着色器。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">DXShaderCreate</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>                  context<span class="token punctuation">,</span>          <span class="token comment">// 图形环境句柄  </span>
   ENUM_DX_SHADER_TYPE  shader_type<span class="token punctuation">,</span>      <span class="token comment">// 着色器类型 </span>
   <span class="token keyword">const</span> string         source<span class="token punctuation">,</span>           <span class="token comment">// 着色器源代码</span>
   <span class="token keyword">const</span> string         entry_point<span class="token punctuation">,</span>      <span class="token comment">// 切入点</span>
   string<span class="token operator">&amp;</span>              compile_error     <span class="token comment">// 接收编译器消息的字符串</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>shader_type</p> <p>[out]  来自ENUM_DX_SHADER_TYPE枚举的值。</p> <p>source</p> <p>[in]  在HLSL 5中的着色器源代码。</p> <p>entry_point</p> <p>[in]  切入点 – 源代码中的函数名。</p> <p>compile_error</p> <p>[in]  接收编译错误的字符串。</p> <p>返回值
在出现错误时，着色器或者INVALID_HANDLE的句柄。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意
创建的不再使用的句柄应该由DXRelease()函数明确释放。</p> <p>** ENUM_DX_SHADER_TYPE **</p> <table><thead><tr><th>ID</th> <th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>DX_SHADER_VERTEX</td> <td>0</td> <td>顶点着色器</td></tr> <tr><td>DX_SHADER_GEOMETRY</td> <td>1</td> <td>几何着色器</td></tr> <tr><td>DX_SHADER_PIXEL</td> <td>2</td> <td>像素着色器</td></tr></tbody></table> <h2 id="_31-13-dxshadersetlayout"><a href="#_31-13-dxshadersetlayout" class="header-anchor">#</a> 31.13 DXShaderSetLayout</h2> <p>设置顶点着色器的顶点布局。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXShaderSetLayout</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>                    shader<span class="token punctuation">,</span>       <span class="token comment">// 着色器句柄</span>
   <span class="token keyword">const</span> DXVertexLayout<span class="token operator">&amp;</span>  layout<span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token comment">// </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>shader</p> <p>[in]  在DXShaderCreate()中创建的顶点着色器句柄。</p> <p>layout[]</p> <p>[in]  顶点字段描述数组。该描述通过DXVertexLayout结构设置：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">struct</span> <span class="token class-name">DXVertexLayout</span>
  <span class="token punctuation">{</span>
   string         semantic_name<span class="token punctuation">;</span>       <span class="token comment">// 在着色器输入签名中与此元素关联的HLSL语义。</span>
   uint           semantic_index<span class="token punctuation">;</span>      <span class="token comment">// 此元素的语义索引。语义索引使用整数索引号修改语义。只有当存在多个具有相同语义的元素时，才需要语义索引</span>
   ENUM_DX_FORMAT format<span class="token punctuation">;</span>              <span class="token comment">// 元素数据的数据类型。</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>布局应该匹配指定顶点缓冲区中的顶点类型。还应该匹配顶点着色器代码中切入点使用的顶点输入类型。
着色器的顶点缓冲区在DXBufferSet()中设置。</p> <p>DXVertexLayout结构是D3D11_INPUT_ELEMENT_DESC MSDN结构的一个版本。</p> <h2 id="_31-14-dxshaderinputsset"><a href="#_31-14-dxshaderinputsset" class="header-anchor">#</a> 31.14 DXShaderInputsSet</h2> <p>设置着色器输入。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">bool</span>  <span class="token function">DXShaderInputsSet</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>         shader<span class="token punctuation">,</span>       <span class="token comment">// 着色器句柄</span>
   <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span>  inputs<span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token comment">// 输入句柄数组</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>shader</p> <p>[in]  在DXShaderCreate()中创建的着色器句柄。</p> <p>inputs[]</p> <p>[in]  使用DXInputCreate()创建的输入句柄数组。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>输入参数的大小应该等于着色器代码中声明的cbuffer对象的数量。</p> <h2 id="_31-15-dxshadertexturesset"><a href="#_31-15-dxshadertexturesset" class="header-anchor">#</a> 31.15 DXShaderTexturesSet</h2> <p>设置着色器结构。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">bool</span>  <span class="token function">DXShaderTexturesSet</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>          shader<span class="token punctuation">,</span>         <span class="token comment">// 着色器句柄</span>
   <span class="token keyword">const</span>  <span class="token keyword">int</span><span class="token operator">&amp;</span>  textures<span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token comment">// 结构句柄数组</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>shader</p> <p>[in]  在DXShaderCreate()中创建的着色器句柄。</p> <p>textures[]</p> <p>[in]  使用DXTextureCreate()创建的结构句柄数组。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>结构数组的大小应该等于着色器代码中声明的Texture2D对象的数量。</p> <h2 id="_31-16-dxdraw"><a href="#_31-16-dxdraw" class="header-anchor">#</a> 31.16 DXDraw</h2> <p>渲染在DXBufferSet()中设置的顶点缓冲区的顶点</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">bool</span>  <span class="token function">DXDraw</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>   context<span class="token punctuation">,</span>               <span class="token comment">// 图形环境句柄</span>
   uint  start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>               <span class="token comment">// 第一个顶点索引</span>
   uint  count<span class="token operator">=</span>WHOLE_ARRAY      <span class="token comment">// 顶点数量</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>start</p> <p>[in]  渲染的第一个顶点的索引。</p> <p>count</p> <p>[in]  要渲染的顶点数量。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>应使用DXShaderSet()初步设置着色器来渲染顶点。</p> <h2 id="_31-17-dxdrawindexed"><a href="#_31-17-dxdrawindexed" class="header-anchor">#</a> 31.17 DXDrawIndexed</h2> <p>渲染由DXBufferSet()的索引缓冲区描述的图形原语。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">bool</span>  <span class="token function">DXDrawIndexed</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>   context<span class="token punctuation">,</span>               <span class="token comment">// 图形环境句柄 </span>
   uint  start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>               <span class="token comment">// 第一个原语索引</span>
   uint  count<span class="token operator">=</span>WHOLE_ARRAY      <span class="token comment">// 原语数量</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>start</p> <p>[in]  用于渲染的第一个原语的索引。</p> <p>count</p> <p>[in]  用于渲染的原语数量。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>使用DXPrimiveTopologySet()设置索引缓冲区描述的原语类型。<br>
初步设置DXBufferSet()中的订单缓冲区来渲染原语。<br>
此外，应使用DXShaderSet()初步设置着色器。<br></p> <h2 id="_31-18-dxprimivetopologyset"><a href="#_31-18-dxprimivetopologyset" class="header-anchor">#</a> 31.18 DXPrimiveTopologySet</h2> <p>设置使用DXDrawIndexed()渲染的原语类型。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>  <span class="token keyword">bool</span>  <span class="token function">DXPrimiveTopologySet</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>                         context<span class="token punctuation">,</span>                <span class="token comment">// 图形环境句柄</span>
   ENUM_DX_PRIMITIVE_TOPOLOGY  primitive_topology      <span class="token comment">// 原语类型</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>primitive_topology</p> <p>[in]  来自ENUM_DX_PRIMITIVE_TOPOLOGY枚举的值。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>** ENUM_DX_PRIMITIVE_TOPOLOGY **</p> <table><thead><tr><th>ID</th> <th>值</th> <th>匹配D3D11_PRIMITIVE_TOPOLOGY</th></tr></thead> <tbody><tr><td>DX_PRIMITIVE_TOPOLOGY_POINTLIST</td> <td>1</td> <td>D3D11_PRIMITIVE_TOPOLOGY_POINTLIST</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_LINELIST</td> <td>2</td> <td>D3D11_PRIMITIVE_TOPOLOGY_LINELIST</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_LINESTRIP</td> <td>3</td> <td>D3D11_PRIMITIVE_TOPOLOGY_LINESTRIP</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_TRIANGLELIST</td> <td>4</td> <td>D3D11_PRIMITIVE_TOPOLOGY_TRIANGLELIST</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_TRIANGLESTRIP</td> <td>5</td> <td>D3D11_PRIMITIVE_TOPOLOGY_TRIANGLESTRIP</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_LINELIST_ADJ</td> <td>6</td> <td>D3D11_PRIMITIVE_TOPOLOGY_LINELIST_ADJ</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_LINESTRIP_ADJ</td> <td>7</td> <td>D3D11_PRIMITIVE_TOPOLOGY_LINESTRIP_ADJ</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_TRIANGLELIST_ADJ</td> <td>8</td> <td>D3D11_PRIMITIVE_TOPOLOGY_TRIANGLELIST_ADJ</td></tr> <tr><td>DX_PRIMITIVE_TOPOLOGY_TRIANGLESTRIP_ADJ</td> <td>9</td> <td>D3D11_PRIMITIVE_TOPOLOGY_TRIANGLESTRIP_ADJ</td></tr></tbody></table> <h2 id="_31-19-dxbufferset"><a href="#_31-19-dxbufferset" class="header-anchor">#</a> 31.19 DXBufferSet</h2> <p>设置当前渲染的缓冲区。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXBufferSet</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>   context<span class="token punctuation">,</span>               <span class="token comment">// 图形环境句柄</span>
   <span class="token keyword">int</span>   buffer<span class="token punctuation">,</span>                <span class="token comment">// 顶点或索引缓冲区句柄</span>
   uint  start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>               <span class="token comment">// 初始索引</span>
   uint  count<span class="token operator">=</span>WHOLE_ARRAY      <span class="token comment">// 元素数</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>buffer</p> <p>[in]  在DXBufferCreate()中创建的顶点或索引缓冲区的句柄。</p> <p>start</p> <p>[in]  缓冲区第一个元素的索引。默认情况下，使用缓冲区开始的数据。</p> <p>count</p> <p>[in]  将要使用的值数。默认值是所有缓冲区值。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>应该调用DXBufferSet()函数来设置订单和索引缓冲区，以便使用DXDraw()进行渲染。</p> <h2 id="_31-20-dxshaderset"><a href="#_31-20-dxshaderset" class="header-anchor">#</a> 31.20  DXShaderSet</h2> <p>设置渲染的着色器。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXShaderSet</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>  context<span class="token punctuation">,</span>      <span class="token comment">// 图形环境句柄</span>
   <span class="token keyword">int</span>  shader        <span class="token comment">// 着色器句柄</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  在DXContextCreate()中创建的图形环境的句柄。</p> <p>shader</p> <p>[in]  在DXShaderCreate()中创建的着色器句柄。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>几种着色器类型可以同时用于渲染（顶点着色器、几何着色器和像素着色器）。</p> <h2 id="_31-21-dxhandletype"><a href="#_31-21-dxhandletype" class="header-anchor">#</a> 31.21 DXHandleType</h2> <p>返回句柄类型。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>ENUM_DX_HANDLE_TYPE  <span class="token function">DXHandleType</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>  handle      <span class="token comment">// 句柄 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>handle</p> <p>[in]     句柄。</p> <p>返回值</p> <p>来自ENUM_DX_HANDLE_TYPE枚举的值</p> <p>ENUM_DX_HANDLE_TYPE</p> <table><thead><tr><th>ID</th> <th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>DX_HANDLE_INVALID</td> <td>0</td> <td>无效句柄</td></tr> <tr><td>DX_HANDLE_CONTEXT</td> <td>1</td> <td>图形环境句柄</td></tr> <tr><td>DX_HANDLE_SHADER</td> <td>2</td> <td>着色器句柄</td></tr> <tr><td>DX_HANDLE_BUFFER</td> <td>3</td> <td>顶点或索引缓冲区句柄</td></tr> <tr><td>DX_HANDLE_INPUT</td> <td>4</td> <td>着色器输入句柄</td></tr> <tr><td>DX_HANDLE_TEXTURE</td> <td>5</td> <td>结构句柄</td></tr></tbody></table> <h2 id="_31-22-dxrelease"><a href="#_31-22-dxrelease" class="header-anchor">#</a> 31.22 DXRelease</h2> <p>释放句柄。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">DXRelease</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span>  handle      <span class="token comment">// 句柄 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数</p> <p>context</p> <p>[in]  释放句柄。</p> <p>返回值</p> <p>如果执行成功，返回true，否则 - false。若要接收错误代码，应该调用GetLastError()函数。</p> <p>注意</p> <p>创建的不再使用的所有句柄应该由DXRelease()函数明确释放。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mql5yao/Chapter/thirty.html" class="prev">
        31 第卅一章 使用数据库
      </a></span> <span class="next"><a href="/mql5yao/Chapter/thirtytwo.html">
        33 第卅三章 MetaTrader与Python集成的模块
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/mql5yao/assets/js/app.8a48e4d1.js" defer></script><script src="/mql5yao/assets/js/2.8ccfeae3.js" defer></script><script src="/mql5yao/assets/js/1.abd3212e.js" defer></script><script src="/mql5yao/assets/js/53.47314628.js" defer></script>
  </body>
</html>
