<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能交易*姚 文档站</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/mql5yao/favicon.ico">
    <meta name="description" content="这是智能交易的文档站点。">
    <meta name="keywords" content="MQL,EA,智能交易,自动交易,量化,编程,培训">
    
    <link rel="preload" href="/mql5yao/assets/css/0.styles.c167a2d0.css" as="style"><link rel="preload" href="/mql5yao/assets/js/app.f23448f4.js" as="script"><link rel="preload" href="/mql5yao/assets/js/3.a8269cb7.js" as="script"><link rel="preload" href="/mql5yao/assets/js/31.28fa5dac.js" as="script"><link rel="prefetch" href="/mql5yao/assets/js/10.a59489eb.js"><link rel="prefetch" href="/mql5yao/assets/js/11.1fde020f.js"><link rel="prefetch" href="/mql5yao/assets/js/12.a5634cbb.js"><link rel="prefetch" href="/mql5yao/assets/js/13.1e1b93d8.js"><link rel="prefetch" href="/mql5yao/assets/js/14.17d955a5.js"><link rel="prefetch" href="/mql5yao/assets/js/15.429599a3.js"><link rel="prefetch" href="/mql5yao/assets/js/16.bcf982ab.js"><link rel="prefetch" href="/mql5yao/assets/js/17.76fde0dd.js"><link rel="prefetch" href="/mql5yao/assets/js/18.49626d28.js"><link rel="prefetch" href="/mql5yao/assets/js/19.0f21f003.js"><link rel="prefetch" href="/mql5yao/assets/js/2.45a03fa6.js"><link rel="prefetch" href="/mql5yao/assets/js/20.18311061.js"><link rel="prefetch" href="/mql5yao/assets/js/21.63b34e06.js"><link rel="prefetch" href="/mql5yao/assets/js/22.a49527a7.js"><link rel="prefetch" href="/mql5yao/assets/js/23.2584759c.js"><link rel="prefetch" href="/mql5yao/assets/js/24.05b32517.js"><link rel="prefetch" href="/mql5yao/assets/js/25.991ff096.js"><link rel="prefetch" href="/mql5yao/assets/js/26.07e08c10.js"><link rel="prefetch" href="/mql5yao/assets/js/27.11150f9e.js"><link rel="prefetch" href="/mql5yao/assets/js/28.b5c9f3ea.js"><link rel="prefetch" href="/mql5yao/assets/js/29.a1ad142f.js"><link rel="prefetch" href="/mql5yao/assets/js/30.6da01d3d.js"><link rel="prefetch" href="/mql5yao/assets/js/32.46aab1c1.js"><link rel="prefetch" href="/mql5yao/assets/js/33.f178c7a3.js"><link rel="prefetch" href="/mql5yao/assets/js/34.cd1eae3b.js"><link rel="prefetch" href="/mql5yao/assets/js/35.ee55e50b.js"><link rel="prefetch" href="/mql5yao/assets/js/36.56370362.js"><link rel="prefetch" href="/mql5yao/assets/js/37.2cc5b283.js"><link rel="prefetch" href="/mql5yao/assets/js/38.c3bba64a.js"><link rel="prefetch" href="/mql5yao/assets/js/39.86103eac.js"><link rel="prefetch" href="/mql5yao/assets/js/4.ffd96de7.js"><link rel="prefetch" href="/mql5yao/assets/js/40.0e36f079.js"><link rel="prefetch" href="/mql5yao/assets/js/41.17bccbf6.js"><link rel="prefetch" href="/mql5yao/assets/js/42.a40ca8ac.js"><link rel="prefetch" href="/mql5yao/assets/js/43.5a883397.js"><link rel="prefetch" href="/mql5yao/assets/js/44.19bdddfe.js"><link rel="prefetch" href="/mql5yao/assets/js/45.dec8257c.js"><link rel="prefetch" href="/mql5yao/assets/js/46.ed29615c.js"><link rel="prefetch" href="/mql5yao/assets/js/47.b6d07db1.js"><link rel="prefetch" href="/mql5yao/assets/js/48.d7ca24ca.js"><link rel="prefetch" href="/mql5yao/assets/js/5.47d44717.js"><link rel="prefetch" href="/mql5yao/assets/js/6.1f5c1ae1.js"><link rel="prefetch" href="/mql5yao/assets/js/7.1a679445.js"><link rel="prefetch" href="/mql5yao/assets/js/8.e80e8a9d.js"><link rel="prefetch" href="/mql5yao/assets/js/9.261aef18.js">
    <link rel="stylesheet" href="/mql5yao/assets/css/0.styles.c167a2d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mql5yao/" class="home-link router-link-active"><img src="/mql5yao/logo.png" alt="智能交易*姚 文档站" class="logo"> <span class="site-name can-hide">智能交易*姚 文档站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mql5yao/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mql5yao/Chapter/start.html" class="nav-link">
  文档
</a></div><div class="nav-item"><a href="/mql5yao/Cutleeks/" class="nav-link">
  割韭菜XX招
</a></div><div class="nav-item"><a href="/mql5yao/support/" class="nav-link">
  支持本站
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MQL5线上手册</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mql5yao/Chapter/start.html" class="sidebar-link">MQL5 参考</a></li><li><a href="/mql5yao/Chapter/one.html" class="sidebar-link">01 第一章 语言基础</a></li><li><a href="/mql5yao/Chapter/two.html" class="sidebar-link">02 第二章 标准常量，列举和架构</a></li><li><a href="/mql5yao/Chapter/three.html" class="sidebar-link">03 第三章 MQL5程序</a></li><li><a href="/mql5yao/Chapter/four.html" class="sidebar-link">04 第四章 预定义变量</a></li><li><a href="/mql5yao/Chapter/five.html" class="sidebar-link">05 第五章 普通函数</a></li><li><a href="/mql5yao/Chapter/six.html" class="sidebar-link">06 第六章 数组函数</a></li><li><a href="/mql5yao/Chapter/add1.html" class="sidebar-link">07 第add1章 矩阵和向量方法</a></li><li><a href="/mql5yao/Chapter/seven.html" class="sidebar-link">07 第七章 函数转换</a></li><li><a href="/mql5yao/Chapter/eight.html" class="sidebar-link">08 第八章 数学函数</a></li><li><a href="/mql5yao/Chapter/nine.html" class="sidebar-link">09 第九章 字符串函数</a></li><li><a href="/mql5yao/Chapter/ten.html" class="sidebar-link">10 第十章 日期和时间</a></li><li><a href="/mql5yao/Chapter/eleven.html" class="sidebar-link">11 第十一章 账户信息</a></li><li><a href="/mql5yao/Chapter/twelve.html" class="sidebar-link">12 第十二章 检测</a></li><li><a href="/mql5yao/Chapter/thirteen.html" class="sidebar-link">13 第十三章 事件处理</a></li><li><a href="/mql5yao/Chapter/fourteen.html" aria-current="page" class="active sidebar-link">14 第十四章 市场信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-1-symbolstotal" class="sidebar-link">14.1 SymbolsTotal</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-2-symbolname" class="sidebar-link">14.2 SymbolName</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-3-symbolselect" class="sidebar-link">14.3 SymbolSelect</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-4-symbolissynchronized" class="sidebar-link">14.4 SymbolIsSynchronized</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-5-symbolinfodouble" class="sidebar-link">14.5 SymbolInfoDouble</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-6-symbolinfointeger" class="sidebar-link">14.6 SymbolInfoInteger</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-7-symbolinfostring" class="sidebar-link">14.7 SymbolInfoString</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-8-symbolinfomarginrate" class="sidebar-link">14.8 SymbolInfoMarginRate</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-9-symbolinfotick" class="sidebar-link">14.9 SymbolInfoTick</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-10-symbolinfosessionquote" class="sidebar-link">14.10 SymbolInfoSessionQuote</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-11-symbolinfosessiontrade" class="sidebar-link">14.11 SymbolInfoSessionTrade</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-12-marketbookadd" class="sidebar-link">14.12 MarketBookAdd</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-13-marketbookrelease" class="sidebar-link">14.13 MarketBookRelease</a></li><li class="sidebar-sub-header"><a href="/mql5yao/Chapter/fourteen.html#_14-14-marketbookget" class="sidebar-link">14.14 MarketBookGet</a></li></ul></li><li><a href="/mql5yao/Chapter/fifteen.html" class="sidebar-link">15 第十五章 经济日历函数</a></li><li><a href="/mql5yao/Chapter/sixteen.html" class="sidebar-link">16 第十六章 时间序列和指标访问</a></li><li><a href="/mql5yao/Chapter/seventeen.html" class="sidebar-link">17 第十七章 自定义交易品种</a></li><li><a href="/mql5yao/Chapter/eighteen.html" class="sidebar-link">18 第十八章 图表操作</a></li><li><a href="/mql5yao/Chapter/ninteen.html" class="sidebar-link">19 第十九章 交易函数</a></li><li><a href="/mql5yao/Chapter/twenty.html" class="sidebar-link">20 第二十章 交易信号</a></li><li><a href="/mql5yao/Chapter/twentyone.html" class="sidebar-link">21 第二十一章 网络函数</a></li><li><a href="/mql5yao/Chapter/twentytwo.html" class="sidebar-link">22 第二十二章 程序端全局变量</a></li><li><a href="/mql5yao/Chapter/twentythree.html" class="sidebar-link">23 第二十三章 文件函数</a></li><li><a href="/mql5yao/Chapter/twentyfour.html" class="sidebar-link">24 第二十四章 自定义指标</a></li><li><a href="/mql5yao/Chapter/twentyfive.html" class="sidebar-link">25 第二十五章 物件函数</a></li><li><a href="/mql5yao/Chapter/twentysix.html" class="sidebar-link">26 第二十六章 技术指标</a></li><li><a href="/mql5yao/Chapter/twentyseven.html" class="sidebar-link">27 第二十七章 处理优化结果</a></li><li><a href="/mql5yao/Chapter/twentyeight.html" class="sidebar-link">28 第二十八章 工作事件</a></li><li><a href="/mql5yao/Chapter/twentynine.html" class="sidebar-link">29 第二十九章 使用OpenCL工作</a></li><li><a href="/mql5yao/Chapter/thirty.html" class="sidebar-link">30 第三十章 使用数据库</a></li><li><a href="/mql5yao/Chapter/thirtyone.html" class="sidebar-link">31 第三十一章 使用DirectX</a></li><li><a href="/mql5yao/Chapter/thirtytwo.html" class="sidebar-link">32 第三十二章 集成</a></li><li><a href="/mql5yao/Chapter/add2.html" class="sidebar-link">32 第add2章 ONNX模型</a></li><li><a href="/mql5yao/Chapter/thirtythree.html" class="sidebar-link">33 第三十三章 标准程序库</a></li><li><a href="/mql5yao/Chapter/AppendixI.html" class="sidebar-link">34 附录一 来自MQL4</a></li><li><a href="/mql5yao/Chapter/AppendixII.html" class="sidebar-link">35 附录二 MQL5 函数列表</a></li><li><a href="/mql5yao/Chapter/AppendixIII.html" class="sidebar-link">36 附录三 MQL5常量列表</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2> 第十四章 获取市场信息</h2>
这些函数用于接收有关市场规则的信息。
<table><thead><tr><th style="text-align:left;">函数</th> <th style="text-align:left;">功能</th></tr></thead> <tbody><tr><td style="text-align:left;">SymbolsTotal</td> <td style="text-align:left;">返回有效的交易品种的数量(市场报价 窗口中选中的 或者 全部)</td></tr> <tr><td style="text-align:left;">SymbolName</td> <td style="text-align:left;">返回指定 交易品种 名称</td></tr> <tr><td style="text-align:left;">SymbolSelect</td> <td style="text-align:left;">在 市场报价 窗口中选中 或者 删除一个交易品种</td></tr> <tr><td style="text-align:left;">SymbolIsSynchronized</td> <td style="text-align:left;">检查客户端中选定的 交易品种 数据是否与交易服务器上的数据同步</td></tr> <tr><td style="text-align:left;">SymbolInfoDouble</td> <td style="text-align:left;">为指定的 交易品种 返回相关属性的双精度值</td></tr> <tr><td style="text-align:left;">SymbolInfoInteger</td> <td style="text-align:left;">为指定的 交易品种 返回相关属性的整数型值(长整型，日期时间，整型或者布尔型)</td></tr> <tr><td style="text-align:left;">SymbolInfoString</td> <td style="text-align:left;">为指定的 交易品种 返回相关属性的字符串类型值</td></tr> <tr><td style="text-align:left;">SymbolInfoMarginRate</td> <td style="text-align:left;">根据订单类型和方向返回预付款比率</td></tr> <tr><td style="text-align:left;">SymbolInfoTick</td> <td style="text-align:left;">返回MqlTick型变量中指定的 交易品种 的当前价格。</td></tr> <tr><td style="text-align:left;">SymbolInfoSessionQuote</td> <td style="text-align:left;">交易品种允许接收报价会话的起止时间以及星期几。</td></tr> <tr><td style="text-align:left;">SymbolInfoSessionTrade</td> <td style="text-align:left;">交易品种允许接收交易的起止时间</td></tr> <tr><td style="text-align:left;">MarketBookAdd</td> <td style="text-align:left;">提供 交易品种 的打开市场深度，并订阅接收市场深度(DOM)更改的通知</td></tr> <tr><td style="text-align:left;">MarketBookRelease</td> <td style="text-align:left;">提供 交易品种 的关闭市场深度，并取消接收市场深度(DOM)更改的通知</td></tr> <tr><td style="text-align:left;">MarketBookGet</td> <td style="text-align:left;">返回包含 交易品种 的市场深度记录的结构数组MqlBookInfo</td></tr></tbody></table> <h2 id="_14-1-symbolstotal"><a href="#_14-1-symbolstotal" class="header-anchor">#</a> 14.1 SymbolsTotal</h2> <p>返回有效的交易品种的数量(市场报价 窗口中选中的 或者 全部)。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">int</span>  <span class="token function">SymbolsTotal</span><span class="token punctuation">(</span> 
   <span class="token keyword">bool</span>  selected      <span class="token comment">// True - 只是 市场报价 窗口中的交易品种 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数
selected</p> <p>[in] 请求模式，可以是true或false。</p> <p>返回值
如果参数“selected”是true,函数返回交易品种的数量就在 市场报价 窗口中选中的数量，如果值是false，则返回所有 交易品种 的数量。</p> <h2 id="_14-2-symbolname"><a href="#_14-2-symbolname" class="header-anchor">#</a> 14.2 SymbolName</h2> <p>返回交易品种名称。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string  <span class="token function">SymbolName</span><span class="token punctuation">(</span> 
   <span class="token keyword">int</span>   pos<span class="token punctuation">,</span>          <span class="token comment">// 列表中的位置编号数字 </span>
   <span class="token keyword">bool</span>  selected      <span class="token comment">// true - 只是 市场报价 窗口中的交易品种  </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数
pos</p> <p>[in] 一个交易品种的位置顺序编号。</p> <p>selected</p> <p>[in] 请求模式。如果该值为TRUE，表示从 市场报价 窗口中选择的交易品种中获取。 如果该值为FALSE，则从通用列表中获取该交易品种的代码符号。</p> <p>返回值
包含交易品种名称的字符串。</p> <h2 id="_14-3-symbolselect"><a href="#_14-3-symbolselect" class="header-anchor">#</a> 14.3 SymbolSelect</h2> <p>在 市场报价 窗口中选择一个交易品种，或者从该窗口中移除一个交易品种。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolSelect</span><span class="token punctuation">(</span> 
   string  name<span class="token punctuation">,</span>       <span class="token comment">// 交易品种名称 </span>
   <span class="token keyword">bool</span>    select      <span class="token comment">// 添加或者移除 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称。</p> <p>select</p> <p>[in] 切换。如果该值为false，则会从 市场报价 窗口中移除一个交易品种，否则会在此窗口中选择一个交易品种。如果 交易品种 的图表是打开的，或者此 交易品种 有持仓，则不能删除该交易品种。</p> <p>返回值
如果失败返回false。</p> <h2 id="_14-4-symbolissynchronized"><a href="#_14-4-symbolissynchronized" class="header-anchor">#</a> 14.4 SymbolIsSynchronized</h2> <p>检查客户端中选定的 交易品种 数据是否与交易服务器上的数据同步</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolIsSynchronized</span><span class="token punctuation">(</span> 
   string  name<span class="token punctuation">,</span>       <span class="token comment">// 交易品种名称 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称。</p> <p>返回值
如果数据是 同步的 ， 返回true,否则返回false。</p> <p>相关参考
SymbolInfoInterger， 组织数据接入</p> <h2 id="_14-5-symbolinfodouble"><a href="#_14-5-symbolinfodouble" class="header-anchor">#</a> 14.5 SymbolInfoDouble</h2> <p>为指定的 交易品种 返回相关属性的双精度值。这个函数有2个变体。</p> <ol><li>直接返回属性值。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">double</span>  <span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span> 
   string                   name<span class="token punctuation">,</span>        <span class="token comment">// 交易品种 </span>
   ENUM_SYMBOL_INFO_DOUBLE  prop_id      <span class="token comment">// 属性标识符 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>根据函数是否成功执行返回true或false。 在成功的情况下，该属性的值将放入接收变量中，并由最后一个参数引用。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span> 
   string                   name<span class="token punctuation">,</span>        <span class="token comment">// 交易品种 </span>
   ENUM_SYMBOL_INFO_DOUBLE  prop_id<span class="token punctuation">,</span>     <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">double</span><span class="token operator">&amp;</span>                  double_var   <span class="token comment">// 这里我们接受属性值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称</p> <p>prop_id</p> <p>[in] 交易品种的属性标识符，取值范围是 ENUM_SYMBOL_INFO_DOUBLE枚举值之一。</p> <p>double_var</p> <p>[out] 接收所请求属性值的 双精度(double) 类型的变量</p> <p>返回值
双精度型值。如果执行失败，可以使用GetLastError()函数获得有关的错误信息：<br>
• 5040 —— 指定的交易品种名称无效，<br>
• 4301 —— 未知交易品种(金融工具)，<br>
• 4302 —— 交易品种在“市场报价”窗口中没找到(可用列表中未发现)，<br>
• 4303 —— 交易品种属性的标识符无效。</p> <p>注意
如果函数用于获取有关最后一次报价的信息，建议使用SymbolInfoTick()。 从客户端连接到交易账户以后，很可能还没有出现过一次报价信号。在这种情况下，请求的值将是不确定的。</p> <p>在大多数情况下，使用SymbolInfoTick()函数就足够了，该函数允许用户在单次调用期间接收Ask，Bid，Last，Volume和最后一次订单到达的时间。</p> <p>示例：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">OnTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span> 
<span class="token comment">//--- 从交易品种属性获得点差 </span>
   <span class="token keyword">bool</span> spreadfloat<span class="token operator">=</span><span class="token function">SymbolInfoInteger</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_SPREAD_FLOAT<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   string comm<span class="token operator">=</span><span class="token function">StringFormat</span><span class="token punctuation">(</span><span class="token string">&quot;Spread %s = %I64d points\r\n&quot;</span><span class="token punctuation">,</span> 
                            spreadfloat<span class="token operator">?</span><span class="token string">&quot;floating&quot;</span><span class="token operator">:</span><span class="token string">&quot;fixed&quot;</span><span class="token punctuation">,</span> 
                            <span class="token function">SymbolInfoInteger</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_SPREAD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//--- 现在自己计算点差 </span>
   <span class="token keyword">double</span> ask<span class="token operator">=</span><span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_ASK<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">double</span> bid<span class="token operator">=</span><span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_BID<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">double</span> spread<span class="token operator">=</span>ask<span class="token operator">-</span>bid<span class="token punctuation">;</span> 
   <span class="token keyword">int</span> spread_points<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">MathRound</span><span class="token punctuation">(</span>spread<span class="token operator">/</span><span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_POINT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   comm<span class="token operator">=</span>comm<span class="token operator">+</span><span class="token string">&quot;Calculated spread = &quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>spread_points<span class="token operator">+</span><span class="token string">&quot; points&quot;</span><span class="token punctuation">;</span> 
   <span class="token function">Comment</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_14-6-symbolinfointeger"><a href="#_14-6-symbolinfointeger" class="header-anchor">#</a> 14.6 SymbolInfoInteger</h2> <p>为指定的 交易品种 返回相关属性的整数型值(长整型，日期时间，整型或者布尔型)，这个函数有2个变体。</p> <ol><li>直接返回属性值</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">long</span>  <span class="token function">SymbolInfoInteger</span><span class="token punctuation">(</span> 
   string                    name<span class="token punctuation">,</span>      <span class="token comment">// 交易品种 </span>
   ENUM_SYMBOL_INFO_INTEGER  prop_id    <span class="token comment">// 属性标识符 </span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>根据函数是否成功执行返回true或false。 在成功的情况下，该属性的值将放入接收变量中，并由最后一个参数引用。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoInteger</span><span class="token punctuation">(</span> 
   string                    name<span class="token punctuation">,</span>      <span class="token comment">// 交易品种 </span>
   ENUM_SYMBOL_INFO_INTEGER  prop_id<span class="token punctuation">,</span>   <span class="token comment">// 属性标识符 </span>
   <span class="token keyword">long</span><span class="token operator">&amp;</span>                     long_var   <span class="token comment">// 这里我们接受属性值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称</p> <p>prop_id</p> <p>[in] 交易品种属性标识符，取值范围是 ENUM_SYMBOL_INFO_INTEGER 枚举值之一。</p> <p>long_var</p> <p>[out] 接收所请求属性值的 长整型(long) 类型的变量</p> <p>返回值
长整型值。如果执行失败，可以使用GetLastError()函数获得有关的错误信息：<br>
• 5040 —— 指定的交易品种名称无效，<br>
• 4301 —— 未知交易品种(金融工具)，<br>
• 4302 —— 交易品种在“市场报价”窗口中没找到(可用列表中未发现)，<br>
• 4303 —— 交易品种属性的标识符无效。</p> <p>注意
如果函数用于获取有关最后一次报价的信息，建议使用SymbolInfoTick()。 从客户端连接到交易账户以后，很可能还没有出现过一次报价信号。在这种情况下，请求的值将是不确定的。</p> <p>在大多数情况下，使用SymbolInfoTick()函数就足够了，该函数允许用户在单次调用期间接收Ask，Bid，Last，Volume和最后一次订单到达的时间。</p> <p>示例：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">OnTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span> 
<span class="token comment">//--- 从交易品种属性获得点差 </span>
   <span class="token keyword">bool</span> spreadfloat<span class="token operator">=</span><span class="token function">SymbolInfoInteger</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_SPREAD_FLOAT<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   string comm<span class="token operator">=</span><span class="token function">StringFormat</span><span class="token punctuation">(</span><span class="token string">&quot;Spread %s = %I64d points\r\n&quot;</span><span class="token punctuation">,</span> 
                            spreadfloat<span class="token operator">?</span><span class="token string">&quot;floating&quot;</span><span class="token operator">:</span><span class="token string">&quot;fixed&quot;</span><span class="token punctuation">,</span> 
                            <span class="token function">SymbolInfoInteger</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_SPREAD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//--- 现在自己计算点差 </span>
   <span class="token keyword">double</span> ask<span class="token operator">=</span><span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_ASK<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">double</span> bid<span class="token operator">=</span><span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_BID<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">double</span> spread<span class="token operator">=</span>ask<span class="token operator">-</span>bid<span class="token punctuation">;</span> 
   <span class="token keyword">int</span> spread_points<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">MathRound</span><span class="token punctuation">(</span>spread<span class="token operator">/</span><span class="token function">SymbolInfoDouble</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYMBOL_POINT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   comm<span class="token operator">=</span>comm<span class="token operator">+</span><span class="token string">&quot;Calculated spread = &quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>spread_points<span class="token operator">+</span><span class="token string">&quot; points&quot;</span><span class="token punctuation">;</span> 
   <span class="token function">Comment</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_14-7-symbolinfostring"><a href="#_14-7-symbolinfostring" class="header-anchor">#</a> 14.7 SymbolInfoString</h2> <p>为指定的 交易品种 返回相关属性的字符串类型值。这个函数有2个变体。</p> <ol><li>直接返回属性值</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string  <span class="token function">SymbolInfoString</span><span class="token punctuation">(</span> 
   string                    name<span class="token punctuation">,</span>       <span class="token comment">// 交易品种 </span>
   ENUM_SYMBOL_INFO_STRING   prop_id     <span class="token comment">// 属性标识符 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>根据函数是否成功执行返回true或false在成功的情况下，该属性的值将放入接收变量中，并由最后一个参数引用。</li></ol> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoString</span><span class="token punctuation">(</span> 
   string                    name<span class="token punctuation">,</span>       <span class="token comment">// 交易品种 </span>
   ENUM_SYMBOL_INFO_STRING   prop_id<span class="token punctuation">,</span>    <span class="token comment">// 属性标识符 </span>
   string<span class="token operator">&amp;</span>                   string_var  <span class="token comment">// 这里假设属性值 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称。</p> <p>prop_id</p> <p>[in] 交易品种属性标识符，取值范围是 ENUM_SYMBOL_INFO_STRING 枚举值之一。</p> <p>string_var</p> <p>[out] 接收所请求属性值的 字符串(string) 类型的变量</p> <p>返回值
字符串型值。如果执行失败，可以使用GetLastError()函数获得有关的错误信息：</p> <p>• 5040 —— 指定的交易品种名称无效，<br>
• 4301 —— 未知交易品种(金融工具)，<br>
• 4302 —— 交易品种在“市场报价”窗口中没找到(可用列表中未发现)，<br>
• 4303 —— 交易品种属性的标识符无效。</p> <p>注意
如果函数用于获取有关最后一次报价的信息，建议使用SymbolInfoTick()。 从客户端连接到交易账户以后，很可能还没有出现过一次报价信号。在这种情况下，请求的值将是不确定的。</p> <p>在大多数情况下，使用SymbolInfoTick()函数就足够了，该函数允许用户在单次调用期间接收Ask，Bid，Last，Volume和最后一次订单到达的时间。</p> <h2 id="_14-8-symbolinfomarginrate"><a href="#_14-8-symbolinfomarginrate" class="header-anchor">#</a> 14.8 SymbolInfoMarginRate</h2> <p>根据订单类型和方向返回预付款比率</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoMarginRate</span><span class="token punctuation">(</span> 
   string             name<span class="token punctuation">,</span>                     <span class="token comment">// 交易品种名称 </span>
   ENUM_ORDER_TYPE    order_type<span class="token punctuation">,</span>               <span class="token comment">// 订单类型 </span>
   <span class="token keyword">double</span><span class="token operator">&amp;</span>            initial_margin_rate<span class="token punctuation">,</span>      <span class="token comment">// 初始预付款比率 </span>
   <span class="token keyword">double</span><span class="token operator">&amp;</span>            maintenance_margin_rate   <span class="token comment">// 维持预付款比率 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称。</p> <p>order_type</p> <p>[in] 订单类型。</p> <p>initial_margin_rate [in] 用于接收初始保证金比率的双精度类型变量。初始保证金是对一笔交易的保证金。将利率乘以初始保证金后，我们在指定类型的订单时，会收到账户上预留的资金数额。</p> <p>maintenance_margin_rate</p> <p>[out] 用于接收维持预付款比率的双精度类型变量。维持预付款是维护相应方向一手持仓的最低金额。维持预付款与比率相乘后，在指定类型的订单被激活后，我们将收到在帐户上保留的资金数量。</p> <p>返回值
如果属性请求成功，返回true，否则false。</p> <h2 id="_14-9-symbolinfotick"><a href="#_14-9-symbolinfotick" class="header-anchor">#</a> 14.9 SymbolInfoTick</h2> <p>返回MqlTick型变量中指定的 交易品种 的当前价格。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoTick</span><span class="token punctuation">(</span> 
   string    symbol<span class="token punctuation">,</span>     <span class="token comment">// 交易品种名称 </span>
   MqlTick<span class="token operator">&amp;</span>  tick        <span class="token comment">// 结构参考 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数
symbol</p> <p>[in] 交易品种名称。</p> <p>tick</p> <p>[out] 连接 MqlTick 类型结构，显示当前价格和最后价格的即时更新。</p> <p>返回值
如果成功，函数返回TRUE，否则返回FALSE</p> <h2 id="_14-10-symbolinfosessionquote"><a href="#_14-10-symbolinfosessionquote" class="header-anchor">#</a> 14.10 SymbolInfoSessionQuote</h2> <p>交易品种允许接收报价会话的起止时间以及星期几。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoSessionQuote</span><span class="token punctuation">(</span> 
   string            name<span class="token punctuation">,</span>                <span class="token comment">// 交易品种名称 </span>
   ENUM_DAY_OF_WEEK  day_of_week<span class="token punctuation">,</span>         <span class="token comment">// 一周中的每天 </span>
   uint              session_index<span class="token punctuation">,</span>       <span class="token comment">// 期指 </span>
   datetime<span class="token operator">&amp;</span>         from<span class="token punctuation">,</span>                <span class="token comment">// 期始时间 </span>
   datetime<span class="token operator">&amp;</span>         to                   <span class="token comment">// 期末时间 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称</p> <p>ENUM_DAY_OF_WEEK</p> <p>[in] 一周中的星期几，取值范围 ENUM_DAY_OF_WEEK枚举值之一。</p> <p>uint</p> <p>[in] 我们想要接收开始和结束时间的一个会话的序号。会话索引从0开始。</p> <p>from</p> <p>[out] 从00:00分开始的登陆时间，单位为 秒，返回值的日期可以忽略不计。</p> <p>to</p> <p>[out] 从00:00分结束的登陆时间，单位为 秒，返回值的日期可以忽略不计。</p> <p>返回值
如果指定的会话、交易品种和星期几的数据被接收，返回true，否则返回false。</p> <p>相关参考
交易品种属性 , TimeToStruct, 数据结构</p> <h2 id="_14-11-symbolinfosessiontrade"><a href="#_14-11-symbolinfosessiontrade" class="header-anchor">#</a> 14.11 SymbolInfoSessionTrade</h2> <p>交易品种允许接收交易的起止时间</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">SymbolInfoSessionTrade</span><span class="token punctuation">(</span> 
   string            name<span class="token punctuation">,</span>                <span class="token comment">// 交易品种名称 </span>
   ENUM_DAY_OF_WEEK  day_of_week<span class="token punctuation">,</span>         <span class="token comment">// 一周中的每天 </span>
   uint              session_index<span class="token punctuation">,</span>       <span class="token comment">// 期指 </span>
   datetime<span class="token operator">&amp;</span>         from<span class="token punctuation">,</span>                <span class="token comment">// 期始时间 </span>
   datetime<span class="token operator">&amp;</span>         to                   <span class="token comment">// 期末时间 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>参数
name</p> <p>[in] 交易品种名称。</p> <p>ENUM_DAY_OF_WEEK</p> <p>[in] 一周中的星期几，取值范围 ENUM_DAY_OF_WEEK枚举值之一。</p> <p>uint</p> <p>[in] 我们想要接收开始和结束时间的一个会话的序号。会话索引从0开始。</p> <p>from</p> <p>[out] 从00:00分开始的登陆时间，单位为 秒，返回值的日期可以忽略不计。</p> <p>to</p> <p>[out] 从00:00分结束的登陆时间，单位为 秒，返回值的日期可以忽略不计。</p> <p>返回值
如果指定的会话、交易品种和星期几的数据被接收，返回true，否则返回false。</p> <p>相关参考
交易品种属性 ，TimeToStruct ，数据结构</p> <h2 id="_14-12-marketbookadd"><a href="#_14-12-marketbookadd" class="header-anchor">#</a> 14.12 MarketBookAdd</h2> <p>提供 交易品种 的打开市场深度，并订阅接收市场深度(DOM)更改的通知。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">MarketBookAdd</span><span class="token punctuation">(</span> 
   string  symbol      <span class="token comment">// 交易品种 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数
symbol</p> <p>[in] 交易品种的名称，具 市场深度 的数据用于EA交易或脚本中。</p> <p>返回值
如果成功打开，返回true，否则是false。</p> <p>注意
通常，这个函数必须从OnInit()函数 或 类 构造函数中调用。要处理传入的警报，在EA交易程序中必须包括函数void OnBookEvent(string&amp;symbol)。</p> <p>相关参考
市场深度结构 ， 结构和类</p> <h2 id="_14-13-marketbookrelease"><a href="#_14-13-marketbookrelease" class="header-anchor">#</a> 14.13 MarketBookRelease</h2> <p>提供 交易品种 的关闭市场深度，并取消接收市场深度(DOM)更改的通知</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">MarketBookRelease</span><span class="token punctuation">(</span> 
   string  symbol      <span class="token comment">// 交易品种 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>参数
symbol</p> <p>[in] 交易品种名称。</p> <p>返回值
如果成功关闭，返回true，否则是false。</p> <p>注意
通常，这个函数必须从OnInit()函数 或 类 构造函数中调用。要处理传入的警报，在EA交易程序中必须包括函数void OnBookEvent(string&amp;symbol)。</p> <p>通常，如果在OnInit()函数中调用相应的MarketBookAdd()函数，则必须从OnDeinit()函数调用该函数。或者它必须从 类 析构函数中调用，如果相应的MarketBookAdd()函数从 类 构造函数中调用。</p> <p>相关参考
市场深度结构 ， 结构和类</p> <h2 id="_14-14-marketbookget"><a href="#_14-14-marketbookget" class="header-anchor">#</a> 14.14 MarketBookGet</h2> <p>返回包含 交易品种 的市场深度记录的结构数组MqlBookInfo</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">bool</span>  <span class="token function">MarketBookGet</span><span class="token punctuation">(</span> 
   string        symbol<span class="token punctuation">,</span>     <span class="token comment">// 交易品种 </span>
   MqlBookInfo<span class="token operator">&amp;</span>  book<span class="token punctuation">[</span><span class="token punctuation">]</span>      <span class="token comment">// 参考数组 </span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>参数
symbol</p> <p>[in] 交易品种名称。</p> <p>book[]</p> <p>[in] 参考一个市场深度数组的记录。该数组可以预先分配给足够数量的记录。如果动态数组未在操作内存中预先分配，则客户端将自己分配该数组。</p> <p>返回值
如果成功，返回true，否则是false。</p> <p>整数
市场深度 通过 MarketBookAdd() 函数重新打开。</p> <p>示例：</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>   MqlBookInfo priceArray<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">bool</span> getBook<span class="token operator">=</span><span class="token function">MarketBookGet</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span>priceArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>getBook<span class="token punctuation">)</span>
     <span class="token punctuation">{</span>
      <span class="token keyword">int</span> size<span class="token operator">=</span><span class="token function">ArraySize</span><span class="token punctuation">(</span>priceArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;MarketBookInfo for &quot;</span><span class="token punctuation">,</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
         <span class="token function">Print</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">,</span>priceArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>price
               <span class="token operator">+</span><span class="token string">&quot;    Volume = &quot;</span><span class="token operator">+</span>priceArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>volume<span class="token punctuation">,</span>
               <span class="token string">&quot; type = &quot;</span><span class="token punctuation">,</span>priceArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token keyword">else</span>
     <span class="token punctuation">{</span>
      <span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">&quot;Could not get contents of the symbol DOM &quot;</span><span class="token punctuation">,</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>相关参考<br>
市场深度结构 ， 结构和类</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mql5yao/Chapter/thirteen.html" class="prev">
        13 第十三章 事件处理
      </a></span> <span class="next"><a href="/mql5yao/Chapter/fifteen.html">
        15 第十五章 经济日历函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/mql5yao/assets/js/app.f23448f4.js" defer></script><script src="/mql5yao/assets/js/3.a8269cb7.js" defer></script><script src="/mql5yao/assets/js/31.28fa5dac.js" defer></script>
  </body>
</html>
